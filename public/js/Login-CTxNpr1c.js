import{aj as f,aW as L,az as i,aA as p,aX as j,aY as U,aD as t,aB as M,aI as P,aZ as S,aE as w,aH as y,a_ as v,a$ as B,aK as V,aG as g,b0 as _,ap as I}from"./vendor-DqHIQWU1.js";import{l as k,g as N}from"./user-BZG51SbY.js";import{m as c}from"./message-DsTL7g5X.js";import{s as $}from"./userInfo-CSbayTML.js";import{P as h}from"./ProInput-DLzwbHQE.js";import{L as A}from"./Loading-DYsgb3I1.js";import{_ as b}from"./index-bEem1MK9.js";import"./file-D7E9LNHg.js";import"./utils-DVDKZiQc.js";import"./remixicon-l0sNRNKZ.js";/* empty css                                                                 *//* empty css                                                                */const D={class:"flex flex-row w-full items-center"},E=["id"],R=["for"],W={__name:"ProCheckbox",props:{name:{type:String,default:""},label:{type:String,default:""},modelValue:{type:String,default:""},labelClass:{type:String,default:"flex-1"}},emits:["update:modelValue"],setup(d,{emit:s}){const e=d,r=s,o=f(e.modelValue),u=()=>{r("update:modelValue",o.value)};return L(()=>e.modelValue,l=>{o.value=l}),(l,n)=>(i(),p("div",D,[j(t("input",{id:d.name,class:"mr-2",type:"checkbox","onUpdate:modelValue":n[0]||(n[0]=a=>o.value=a),onChange:u},null,40,E),[[U,o.value]]),d.label?(i(),p("label",{key:0,class:M(d.labelClass),for:d.name},[P(l.$slots,"label",{},()=>[S(w(d.label),1)])],10,R)):y("",!0)]))}},z=t("span",{class:"text-gray-600 text-sm"},"我已阅读并同意",-1),G=t("a",{class:"text-blue-600 text-sm underline",href:"http://111.229.165.93:3000/#/book/66cd9da6037c2c7ee424e923",target:"_blank"}," [用户隐私协议] ",-1),C={__name:"UserPrivacy",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(d,{emit:s}){const e=s,r=o=>{e("update:modelValue",o)};return(o,u)=>(i(),v(W,{name:"userPrivacy",label:!0,modelValue:d.modelValue,"onUpdate:modelValue":r},{label:B(()=>[z,G]),_:1},8,["modelValue"]))}},O={class:"w-full flex flex-col items-center justify-center"},q=t("div",{class:"flex h-12 justify-center items-center font-sans font-medium lg:font-semibold text-2xl lg:text-3xl leading-12 text-slate-500 mt-2"},[t("p",null,"Progress")],-1),F={__name:"AccountLogin",setup(d){const s=f(""),e=f(""),r=V(),o=f(!1),u=()=>{if(!o.value){c.error("请先阅读并同意隐私协议");return}console.log(s.value,e.value,_(e.value)),k({name:s.value,password:_(e.value)}).then(a=>{if(console.log(a),a&&a.data)if(a.data.success){let{token:m,user:x}=a.data.data;m?(localStorage.setItem("me_token",m),$(x),r.push("/home")):a.data.message&&c.error(a.data.message)}else console.log("登录失败"),a.data.message&&c.error(a.data.message);else a.data.message&&c.error("登录失败")})},l=()=>{r.push("register")},n=()=>{r.push("forget")};return(a,m)=>(i(),p("div",O,[q,g(h,{class:"my-2",name:"name",modelValue:s.value,"onUpdate:modelValue":m[0]||(m[0]=x=>s.value=x),placeholder:"输入用户名/手机号/邮箱号码"},null,8,["modelValue"]),g(h,{class:"my-2",type:"password",name:"password",modelValue:e.value,"onUpdate:modelValue":m[1]||(m[1]=x=>e.value=x),placeholder:"输入密码"},null,8,["modelValue"]),t("div",{class:"w-full text-right"},[t("span",{class:"text-blue-500 hover:text-blue-700 cursor-pointer",onClick:n},"忘记密码？")]),t("div",{class:"w-full flex flex-row justify-between my-2"},[t("button",{class:"w-1/2 py-2 mr-2 bg-blue-300 lg:text-lg text-white font-semibold rounded-md shadow-md hover:bg-blue-600",onClick:u},"登录"),t("button",{class:"w-1/2 py-2 ml-2 bg-red-300 lg:text-lg text-white font-semibold rounded-md shadow-md hover:bg-red-600",onClick:l},"注册")]),g(C,{modelValue:o.value,"onUpdate:modelValue":m[2]||(m[2]=x=>o.value=x)},null,8,["modelValue"])]))}},H=F,K={class:"w-full flex flex-col items-center justify-center"},Q=t("div",{class:"flex h-12 justify-center items-center font-sans font-medium lg:font-semibold text-2xl lg:text-3xl leading-12 text-slate-500 mt-2"},[t("p",null,"Progress")],-1),T={class:"w-full my-2 flex flex-row justify-between"},X=t("button",{class:"px-2 bg-slate-300 text-white font-semibold rounded-md hover:bg-slate-600"},"获取验证码",-1),Y={__name:"MobileLogin",setup(d){const s=f(""),e=f(""),r=V(),o=f(!1),u=()=>{if(!o.value){c.error("请先阅读并同意隐私协议");return}console.log(s.value,e.value),k({mobile:s.value,verification:e.value}).then(l=>{if(console.log(l),l&&l.data)if(l.data.success){let{token:n,user:a}=l.data.data;n?(localStorage.setItem("me_token",n),$(a),r.push("/home")):l.data.message&&c.error(l.data.message)}else console.log("登录失败"),l.data.message&&c.error(l.data.message);else l.data.message&&c.error("登录失败")})};return(l,n)=>(i(),p("div",K,[Q,g(h,{class:"my-2",name:"mobile",modelValue:l.password,"onUpdate:modelValue":n[0]||(n[0]=a=>l.password=a),placeholder:"输入手机号"},null,8,["modelValue"]),t("div",T,[g(h,{width:48,name:"verification",modelValue:e.value,"onUpdate:modelValue":n[1]||(n[1]=a=>e.value=a),placeholder:"输入验证码"},null,8,["modelValue"]),X]),t("button",{class:"w-full py-2 my-2 bg-blue-300 lg:text-lg text-white font-semibold rounded-md shadow-md hover:bg-blue-600",onClick:u},"登录"),g(C,{modelValue:o.value,"onUpdate:modelValue":n[2]||(n[2]=a=>o.value=a)},null,8,["modelValue"])]))}},Z=Y,J={class:"w-full flex flex-col items-center justify-center"},ee=["src"],te={key:1,class:"relative w-full min-h-56"},le={__name:"WeChatLogin",setup(d){const s=f("");return I(()=>{N().then(e=>{s.value=e})}),(e,r)=>(i(),p("div",J,[s.value?(i(),p("img",{key:0,class:"w-full h-full",src:s.value,alt:"小程序码"},null,8,ee)):(i(),p("div",te,[g(A)]))]))}},ae=le,se={class:"h-screen flex flex-col items-center justify-center lg:bg-slate-300/20 dark:bg-transparent p-4"},oe={class:"w-full lg:w-96 flex flex-col bg-white dark:bg-transparent dark:lg:bg-neutral-800 p-4 lg:p-8 rounded-md lg:shadow-md"},ne=t("div",{class:"w-full flex flex-row items-center text-slate-700 text-sm mt-4"},[t("span",{class:"login-more-wrap-left"}),t("span",{class:"flex-1 text-center"},"其他登录方式"),t("span",{class:"login-more-wrap-right"})],-1),re={class:"flex flex-row justify-between mt-4"},be={__name:"Login",setup(d){const s={1:"账号登录",2:"免密登录",3:"微信登录"},e=f(1),r=o=>c.info("暂不支持其它登录，敬请期待！");return(o,u)=>(i(),p("div",se,[t("div",oe,[e.value===1?(i(),v(H,{key:0})):e.value===2?(i(),v(Z,{key:1})):e.value===3?(i(),v(ae,{key:2})):y("",!0),ne,t("div",re,[t("button",{class:"h-8 rounded-full px-4 text-sm text-white bg-slate-500 hover:bg-slate-300",onClick:u[0]||(u[0]=l=>r())},[g(b,{class:"text-white mr-1",name:e.value===1?"smartphone-line":"user-line"},null,8,["name"]),t("span",null,w(e.value===1?s[2]:s[1]),1)]),t("button",{class:"w-8 h-8 rounded-full text-2xl bg-green-600",onClick:u[1]||(u[1]=l=>r())},[g(b,{class:"text-white",name:"wechat-fill"})])])])]))}};export{be as default};
