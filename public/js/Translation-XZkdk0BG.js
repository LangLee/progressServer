import{ae as o,aj as A,ay as d,az as p,aC as t,aA as n,aI as g,aU as m,aS as v,aJ as B,aK as S,aR as D,aN as E,aB as N}from"./vendor-1hORrrXR.js";import{R as u}from"./RemixIcon-DLZgjpvL.js";import{a as U}from"./ai-BAwTwO-P.js";import{g as $,c as z}from"./word-1eYb_67-.js";import{m as h}from"./message-ShWl2tYi.js";import{H}from"./Header-BzYHlVFw.js";import{L as I}from"./Loading-DkgdyS7Z.js";import{c as K}from"./utils-Cs41FaCi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./userInfo-BaXGolSQ.js";import"./user-CStxEDWN.js";import"./index-CA56zL0v.js";const R={class:"flex flex-col h-screen w-full justify-center items-center text-slate-700 dark:text-slate-300"},V={class:"flex-1 w-full p-2 lg:p-4 overflow-y-auto"},q={key:0,class:"rounded-lg shadow-lg p-4 lg:p-8 mb-4 lg:mb-8"},M=t("div",{class:"font-bold text-normal lg:text-lg py-2"},[t("span",{class:"bg-blue-600 text-slate-50 rounded-xl px-2 py-1"},"每日一句")],-1),P={class:"text-normal lg:text-lg p-2"},j={class:"text-normal lg:text-lg p-2"},L={key:1,class:"rounded shadow-lg p-4 lg:p-8 mb-4 lg:mb-8"},W={class:"font-bold text-lg lg:text-xl text-blue-700 py-1"},F={class:"text-lg text-slate-300"},J={key:2,class:"rounded shadow-lg p-4 lg:p-8 mb-4 lg:mb-8"},Q={class:"font-bold text-lg lg:text-xl text-blue-700"},Y={class:"text-lg text-slate-300"},Z=["src"],G={class:"relative h-24 lg:h-28 w-full text-lg px-2 lg:px-4 mb-4 lg:mb-8"},O=["onKeyup"],X=t("span",{class:"mr-1"},"发送",-1),xe={__name:"Translation",setup(ee){const r=o(""),i=o("");o("");const f=o(""),a=o(""),x=o(!1);o("");const c=o(),b=()=>{K(a.value),h.success("复制成功！")},y=()=>{z({code:a.value,english:a.value,chinese:i.value,newWord:!0}).catch(l=>{h.error(l)})},_=()=>{r.value||h.warning("请输入要翻译的文本！");let l=r.value.replace(/[\r\n]/g,"");const s=new RegExp(/^[A-Za-z\s]*$/).test(l);x.value=!0,U({query:l,from:s?"en":"zh-CHS",to:s?"zh-CHS":"en"}).then(w=>{let{translation:C,speakUrl:te,tSpeakUrl:T,dict:le,tDict:se}=w||{};r.value="",i.value=l,a.value=C,f.value=T,x.value=!1})},k=l=>{let e=null;e=document.getElementById("responseAudioPlayer"),e.paused?e.play():e.pause()};return A(()=>{$().then(l=>{c.value=l})}),(l,e)=>(d(),p(N,null,[t("div",R,[n(H),t("div",V,[c.value?(d(),p("div",q,[M,t("div",P,g(c.value.chinese||""),1),t("div",j,g(c.value.english||""),1)])):m("",!0),i.value?(d(),p("div",L,[t("div",W,g(i.value),1),t("span",F,[n(u,{class:"hover:text-blue-400",name:"clipboard-line",onClick:e[0]||(e[0]=v(s=>b(i.value),["stop"]))})])])):m("",!0),a.value?(d(),p("div",J,[t("div",Q,g(a.value),1),t("span",Y,[n(u,{class:"mr-2 hover:text-blue-400",name:"volume-up-line",onClick:e[1]||(e[1]=s=>k())}),n(u,{class:"mr-2 hover:text-blue-400",name:"clipboard-line",onClick:e[2]||(e[2]=v(s=>b(),["stop"]))}),n(u,{class:"hover:text-blue-400",name:"add-line",onClick:e[3]||(e[3]=v(s=>y(),["stop"]))})]),t("audio",{id:"responseAudioPlayer",src:f.value},null,8,Z)])):m("",!0)]),t("div",G,[B(t("textarea",{ref:"questionInput",rows:3,class:"w-full border rounded-lg shadow-sm py-2 lg:py-4 pl-4 pr-20 text-slate-600 placeholder-slate-300 font-normal text-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent dark:bg-neutral-800 dark:focus:ring-slate-300 dark:border-slate-600","onUpdate:modelValue":e[4]||(e[4]=s=>r.value=s),type:"text",placeholder:"开始对话",onKeyup:D(v(_,["stop"]),["enter"])},null,40,O),[[S,r.value]]),t("button",{class:"absolute top-2 lg:top-4 right-4 lg:right-8 w-16 text-blue-300 hover:text-blue-600 dark:text-slate-300 dark:hover:text-slate-50",onClick:_},[X,n(u,{name:"send-plane-fill"})])])]),x.value?(d(),E(I,{key:0})):m("",!0)],64))}};export{xe as default};
