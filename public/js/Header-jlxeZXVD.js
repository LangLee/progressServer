import{aj as B,bd as b,ap as H,aW as $,az as n,aA as k,aB as g,a_ as u,aK as E,aM as M,aN as N,b1 as U,aD as t,aH as j,aG as p,aI as A,au as d,a$ as _,aX as L,aF as h,aE as V}from"./vendor-DqHIQWU1.js";import{_ as m}from"./index-bEem1MK9.js";import{b as y,g as P,s as w,u as T}from"./userInfo-CSbayTML.js";import{a as G}from"./user-BZG51SbY.js";const K=["src"],C={__name:"Avatar",props:{file:{type:String,default:""},size:{type:String,default:"md",validate:function(a){return["sm","md","lg"].indexOf(a)!==-1}},img:{type:String,default:""},icon:{type:String,default:"user-line"},rounded:{type:Boolean,default:!0}},setup(a){const l=a,o=B(),s=b(()=>{let e="";switch(l.size){case"sm":e="w-6 h-6";break;case"md":e="w-8 h-8";break;case"lg":e="w-10 h-10";break}return l.rounded&&(e+=" rounded-full"),e}),i=b(()=>{switch(l.size){case"sm":return"font-normal text-base";case"md":return"font-medium text-xl";case"lg":return"font-bold text-2xl"}});return H(async()=>{if(l.file){let e=y(l.file);e instanceof Promise?o.value=await e:o.value=e}}),$(()=>l.file,async(e,f)=>{if(e){let r=y(e);r instanceof Promise?o.value=await r:o.value=r}}),(e,f)=>(n(),k("div",{class:g(["inline-block text-center leading-none bg-blue-300",s.value])},[o.value||a.img?(n(),k("img",{key:0,src:o.value||a.img,class:g(["inline-block w-full h-full object-cover",{"rounded-full":a.rounded}])},null,10,K)):(n(),u(m,{key:1,class:g(["text-white",i.value]),name:a.icon},null,8,["name","class"]))],2))}},O={id:"header",class:"sticky h-16 top-0 z-20 w-full backdrop-blur lg:border-b dark:border-b lg:border-slate-900/10 bg-white/90 lg:bg-white/60 dark:border-slate-50/20 dark:bg-transparent lg:shadow-none shadow-lg"},R={class:"w-full h-full flex-none flex max-w-screen-2xl mx-auto"},W=t("span",{class:"text-gray-500 font-medium text-2xl"},"I want progress",-1),X=[W],q={class:"flex items-center px-2 sm:px-6 lg:mx-6 lg:px-0 xl:mx-8"},J={class:"flex-auto flex items-center justify-end pr-4 dark:text-slate-50"},Q={class:"text-sm font-bold cursor-pointer"},Y={class:"min-w-20 lg:min-w-24 bg-white dark:bg-neutral-700 rounded dark:rounded-none text-center text-slate-500 dark:text-slate-300"},Z={class:"px-2 py-1 hover:bg-neutral-100 hover:text-slate-700 dark:hover:bg-neutral-600 dark:hover:text-slate-50 rounded dark:rounded-none cursor-pointer"},ee={class:"px-2 py-1 hover:bg-neutral-100 hover:text-slate-700 dark:hover:bg-neutral-600 dark:hover:text-slate-50 rounded dark:rounded-none cursor-pointer"},te={__name:"Header",props:{hiddenFold:{type:Boolean,default:!1},fold:{type:Boolean,default:!0}},emits:["toggleFold"],setup(a,{emit:l}){const o=()=>document.body,s=T(),i=E(),e=B(localStorage.theme==="dark"),f=l,r=()=>{i.push("/home")},S=()=>{f("toggleFold")},v=()=>{localStorage.removeItem("me_token"),w(),i.push("/login")},z=()=>{i.push("/setting")},I=()=>{e.value?(localStorage.theme="light",document.documentElement.classList.remove("dark")):(localStorage.theme="dark",document.documentElement.classList.add("dark")),e.value=!e.value};return M(()=>{let c=P();c?s.value=c:G().then(x=>{s.value=x,w(x)})}),(c,x)=>{const F=N("tippy"),D=U("tippy");return n(),k("div",O,[t("div",R,[t("div",{class:"hidden lg:flex h-16 flex-none pl-4 sm:pl-6 xl:pl-8 items-center border-b border-gray-200 lg:border-b-0 lg:w-60 xl:w-72"},[t("div",{class:"flex flex-row items-center text-slate-500 dark:text-slate-300 cursor-pointer",onClick:r},X)]),t("div",q,[a.hiddenFold?j("",!0):(n(),u(m,{key:0,name:a.fold?"menu-fold-line":"menu-unfold-line",class:"lg:hidden py-1 px-2 text-2xl text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",onClick:S},null,8,["name"])),p(m,{name:"home-8-line",class:"lg:hidden py-1 px-2 text-2xl text-blue-500 hover:text-blue-700 dark:text-slate-300 dark:hover:text-slate-50",onClick:r}),A(c.$slots,"default")]),t("div",J,[p(m,{name:e.value?"moon-fill":"sun-fill",class:"text-2xl cursor-pointer mr-2",onClick:I},null,8,["name"]),d(s)?(n(),u(F,{key:0,trigger:"click",placement:"bottom-end",animation:"scale",interactive:!0,appendTo:o},{content:_(()=>[t("div",Y,[t("ul",null,[t("ol",Z,[t("a",{onClick:h(z,["stop"])},"我的")]),t("ol",ee,[t("a",{onClick:h(v,["stop"])},"退出")])])])]),default:_(()=>[p(C,{class:"cursor-pointer mr-2",size:"sm",file:d(s)&&d(s).avatar},null,8,["file"]),t("span",Q,V(d(s)&&d(s).name),1)]),_:1})):L((n(),u(C,{key:1,class:"cursor-pointer mr-2",size:"sm",onClick:h(v,["stop"])},null,512)),[[D,{content:"登录"}]])])])])}}},ne=te;export{ne as H,C as _};
