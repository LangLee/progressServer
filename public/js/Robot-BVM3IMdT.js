import"./RemixIcon-Cy7WqHn8.js";import"./Modal-DAiAG9nN.js";import{H as g}from"./Header-PYXapPSr.js";import{_}from"./ChatPanel-BkM9rfoR.js";import{M as h}from"./Menu-BIeb16Qk.js";import{g as x}from"./ai-B24q-XeF.js";import{az as y,aA as B,aj as t,aR as C,aD as M,aE as w,aF as u,aH as F}from"./vendor-Ca624vxD.js";import{g as I}from"./book-BoQwkkU-.js";import"./userInfo-CpJIz3bh.js";import"./user-Ugs0z67X.js";import"./index-D5Zmbx3T.js";import"./Loading-BieOgBO-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-BIo_BOvM.js";import"./message-BXUz8B8N.js";import"./GroupModal-SqgswNQa.js";const R={class:"flex flex-col w-full h-screen"},b={class:"flex-1 flex flex-col w-full lg:pl-80 overflow-y-auto"},$={__name:"Robot",setup(k){const p=y(),c=B(),o=t([]),m=t(!1),d=t("tongyi"),s=t(""),l=t(!0),r=t(""),i=e=>{if(e!==void 0){l.value=e;return}l.value=!l.value},f=(e,a)=>{p.push({path:"/robot",query:{id:e,appId:a}}),s.value=e||"",e?I(e).then(n=>{o.value=JSON.parse(n.content||"[]")}):o.value=[]},v=e=>{o.value=o.value.concat([{role:"user",content:e}]);let a="";x({appId:c.query.appId,id:s.value,mode:d.value,question:e},n=>{a+=n,r.value=a},()=>{r.value="",o.value=o.value.concat([{role:"assistant",content:a}])})};return C(c.query.id,(e,a)=>{s.value=e},{immediate:!0}),(e,a)=>(M(),w("div",R,[u(g,{onToggleFold:i,fold:l.value},null,8,["fold"]),u(h,{fixedType:"chat",defaultGroup:!0,fold:l.value,defaultSelected:!1,onToggleFold:i,onMenuChange:f},null,8,["fold"]),F("div",b,[u(_,{editable:!0,messages:o.value,loading:m.value,onChart:v,response:r.value},null,8,["messages","loading","response"])])]))}};export{$ as default};
