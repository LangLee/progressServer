import{aj as a,ao as D,aD as d,aE as p,aH as t,aF as n,aN as g,aZ as m,aX as x,aO as E,aP as S,aW as A,aS as B,aG as H}from"./vendor-Ca624vxD.js";import{R as u}from"./RemixIcon-Cy7WqHn8.js";import{a as N}from"./ai-B24q-XeF.js";import{g as $,c as P}from"./word-h4c9KOUd.js";import{m as h}from"./message-BXUz8B8N.js";import{H as U}from"./Header-PYXapPSr.js";import{L as V}from"./Loading-BieOgBO-.js";import{c as q}from"./utils-BIo_BOvM.js";import"./index-D5Zmbx3T.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./userInfo-CpJIz3bh.js";import"./user-Ugs0z67X.js";const z={class:"flex flex-col h-screen w-full justify-center items-center text-slate-700 dark:text-slate-300"},I={class:"flex-1 w-full p-2 lg:p-4 overflow-y-auto"},K={key:0,class:"rounded-lg shadow-lg p-4 lg:p-8 mb-4 lg:mb-8"},M=t("div",{class:"font-bold text-normal lg:text-lg py-2"},[t("span",{class:"bg-blue-600 text-slate-50 rounded-xl px-2 py-1"},"每日一句")],-1),R={class:"text-normal lg:text-lg p-2"},W={class:"text-normal lg:text-lg p-2"},j={key:1,class:"rounded shadow-lg p-4 lg:p-8 mb-4 lg:mb-8"},F={class:"font-bold text-lg lg:text-xl text-blue-700 dark:text-blue-300 py-1"},L={class:"text-lg text-slate-300"},Z={key:2,class:"rounded shadow-lg p-4 lg:p-8 mb-4 lg:mb-8"},G={class:"font-bold text-lg lg:text-xl text-blue-700 dark:text-blue-300"},O={class:"text-lg text-slate-300"},Q=["src"],X={class:"relative h-24 lg:h-28 w-full text-lg px-2 lg:px-4 mb-4 lg:mb-8"},Y=["onKeyup"],J=t("span",{class:"mr-1"},"发送",-1),ve={__name:"Translation",setup(ee){const r=a(""),i=a("");a("");const f=a(""),o=a(""),v=a(!1);a("");const c=a(),b=()=>{q(o.value),h.success("复制成功！")},y=()=>{P({code:o.value,english:o.value,chinese:i.value,newWord:!0}).catch(l=>{h.error(l)})},_=()=>{r.value||h.warning("请输入要翻译的文本！");let l=r.value.replace(/[\r\n]/g,"");const s=new RegExp(/^[A-Za-z\s]*$/).test(l);v.value=!0,N({query:l,from:s?"en":"zh-CHS",to:s?"zh-CHS":"en"}).then(w=>{let{translation:C,speakUrl:te,tSpeakUrl:T,dict:le,tDict:se}=w||{};r.value="",i.value=l,o.value=C,f.value=T,v.value=!1})},k=l=>{let e=null;e=document.getElementById("responseAudioPlayer"),e.paused?e.play():e.pause()};return D(()=>{$().then(l=>{c.value=l})}),(l,e)=>(d(),p(H,null,[t("div",z,[n(U),t("div",I,[c.value?(d(),p("div",K,[M,t("div",R,g(c.value.chinese||""),1),t("div",W,g(c.value.english||""),1)])):m("",!0),i.value?(d(),p("div",j,[t("div",F,g(i.value),1),t("span",L,[n(u,{class:"hover:text-blue-400",name:"clipboard-line",onClick:e[0]||(e[0]=x(s=>b(i.value),["stop"]))})])])):m("",!0),o.value?(d(),p("div",Z,[t("div",G,g(o.value),1),t("span",O,[n(u,{class:"mr-2 hover:text-blue-400",name:"volume-up-line",onClick:e[1]||(e[1]=s=>k())}),n(u,{class:"mr-2 hover:text-blue-400",name:"clipboard-line",onClick:e[2]||(e[2]=x(s=>b(),["stop"]))}),n(u,{class:"hover:text-blue-400",name:"add-line",onClick:e[3]||(e[3]=x(s=>y(),["stop"]))})]),t("audio",{id:"responseAudioPlayer",src:f.value},null,8,Q)])):m("",!0)]),t("div",X,[E(t("textarea",{ref:"questionInput",rows:3,class:"w-full border rounded-lg shadow-sm py-2 lg:py-4 pl-4 pr-20 text-slate-600 dark:text-slate-50 placeholder-slate-300 font-normal text-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent dark:bg-neutral-800 dark:focus:ring-slate-300 dark:border-slate-600","onUpdate:modelValue":e[4]||(e[4]=s=>r.value=s),type:"text",placeholder:"开始对话",onKeyup:A(x(_,["stop"]),["enter"])},null,40,Y),[[S,r.value]]),t("button",{class:"absolute top-2 lg:top-4 right-4 lg:right-8 w-16 text-blue-300 hover:text-blue-600 dark:text-slate-300 dark:hover:text-slate-50",onClick:_},[J,n(u,{name:"send-plane-fill"})])])]),v.value?(d(),B(V,{key:0})):m("",!0)],64))}};export{ve as default};
