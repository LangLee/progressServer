const __vite__fileDeps=["./Markdown-BHjscIgw.js","./tiptap-CB3Ftz3M.js","./vendor-BSAPUjJi.js","../css/vendor-St55MTdn.css","./RemixIcon-Cb0msOyL.js","./ai-B9sis56A.js","./message-CIMfOfme.js","./_plugin-vue_export-helper-DlAUqK2U.js","../css/message-BEItxtsU.css","./utils-_yvyshlj.js","../css/Markdown-DCFTSIbh.css","./Text-Cs_DW_yN.js","./Code-dy4ckhf_.js","../css/Code-BLTi7TbQ.css","./Task-B72JFfbW.js","../css/Task-CoyDmG1V.css","./Drawing-l9t8Pgc-.js","../css/Drawing-Bdgq6z4a.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as n}from"./index-DVZ6Nk77.js";import{ad as f,av as k,aj as E,ae as m,aL as I,aw as A,ag as B,ay as _,az as C,aM as L,aV as g,aF as l}from"./vendor-BSAPUjJi.js";import{u as h,g as x}from"./book-DvR0ogho.js";const R={class:"w-full h-full flex"},V=f({__name:"Book",setup(b){const p=k(),a=E(),r=m(""),u=m(Array());let s="";const i=m("");let v;const c=()=>{if(r.value===s)return;let t=[];u.value.length>0&&(t=u.value.map(e=>({id:e.id,itemIndex:e.itemIndex,level:e.level,originalLevel:e.originalLevel,pos:e.pos,textContent:e.textContent})));let o={id:i.value,content:r.value,anchors:t};h(o).then(()=>{s=r.value})},d=t=>{switch(t){case"markdown":{a.value=l(()=>n(()=>import("./Markdown-BHjscIgw.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url));break}case"chat":case"text":{a.value=l(()=>n(()=>import("./Text-Cs_DW_yN.js"),__vite__mapDeps([11,1,2,3,9]),import.meta.url));break}case"code":{a.value=l(()=>n(()=>import("./Code-dy4ckhf_.js"),__vite__mapDeps([12,2,3,9,13]),import.meta.url));break}case"task":{a.value=l(()=>n(()=>import("./Task-B72JFfbW.js"),__vite__mapDeps([14,1,2,3,9,15]),import.meta.url));break}case"drawing":{a.value=l(()=>n(()=>import("./Drawing-l9t8Pgc-.js"),__vite__mapDeps([16,1,2,3,7,9,17]),import.meta.url));break}default:{a.value=l(()=>n(()=>import("./Markdown-BHjscIgw.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url));break}}};return I(()=>p.params.id,(t,o)=>{t&&t!==o&&(typeof t=="string"&&(i.value=t||""),x(i.value).then(e=>{r.value=e.content||"",u.value=e.anchors||[],s=e.content||"",d(e.type)}))},{immediate:!0}),A(()=>{v=setInterval(()=>{c()},5e3)}),B(()=>{clearInterval(v)}),(t,o)=>(_(),C("div",R,[(_(),L(g(a.value),{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=e=>r.value=e),anchors:u.value,"onUpdate:anchors":o[1]||(o[1]=e=>u.value=e)},null,40,["modelValue","anchors"]))]))}});export{V as default};
