import{ae as k,aL as C,ay as t,az as o,aC as s,aB as g,aQ as B,aT as m,aM as i,aU as r,aP as h,aA as f,aI as P,aJ as I,aR as S,aS as y,ar as L}from"./vendor-BLq22pPX.js";import{R as T}from"./RemixIcon-BDA1nEXk.js";import{L as K}from"./Loading-BaoDrf3C.js";import{_ as d}from"./Header-C6RPu72y.js";const M={id:"chatContent",class:"flex-1 text-base p-2 lg:p-4 text-slate-900 font-normal overflow-y-auto"},N={key:0,class:"flex flex-col content-space-between"},R={key:1,class:"inline-block my-3 self-start lg:mr-8"},V={class:"px-4 py-2 text-slate-700 bg-blue-50 rounded-xl shadow-md"},$={key:0,class:"relative h-24 lg:h-28 w-full text-lg px-2 lg:px-4 mb-4 lg:mb-8"},q=["onKeyup"],z=s("span",{class:"mr-1"},"发送",-1),F={__name:"ChatPanel",props:{editable:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},messages:{type:Array,default:()=>[]},placeholder:{type:String,default:"开始向我提问吧..."},owner:{type:String,default:"user"},roleProperty:{type:String,default:"role"}},emits:["chart"],setup(e,{emit:p}){const{proxy:x}=L(),b=e,v=p,a=k(""),u=()=>{a.value=a.value.replace(/[\r\n]/g,""),v("chart",a.value),a.value=""};return C(()=>b.messages,(c,n)=>{c&&c.length!==n.length&&(a.value="",x.$nextTick(()=>{document.getElementById("chatContent"),chatContent&&chatContent.scrollTo({top:chatContent.scrollHeight,behavior:"smooth"})}))}),(c,n)=>(t(),o(g,null,[s("div",M,[e.messages&&e.messages.length>0?(t(),o("div",N,[(t(!0),o(g,null,B(e.messages,(l,w)=>(t(),o("div",{key:w,class:m(`my-3 text-slate-700 ${l[e.roleProperty]!==e.owner?"self-start lg:mr-8":"self-end lg: ml-8"}`)},[l[e.roleProperty]!==e.owner?(t(),i(d,{key:0,icon:"robot-2-fill"})):r("",!0),s("span",{class:m(["inline-block px-4 py-2 rounded-xl shadow-md",l[e.roleProperty]!==e.owner?"":"bg-blue-50"])},h(l.content),3),l[e.roleProperty]===e.owner?(t(),i(d,{key:1})):r("",!0)],2))),128))])):(t(),o("div",R,[f(d,{icon:"robot-2-fill"}),s("span",V,h(e.placeholder),1)]))]),e.editable?(t(),o("div",$,[P(s("textarea",{ref:"questionInput",rows:3,class:"w-full border rounded-lg shadow-sm py-2 lg:py-4 pl-4 pr-20 text-slate-600 placeholder-slate-300 font-normal text-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent","onUpdate:modelValue":n[0]||(n[0]=l=>a.value=l),type:"text",placeholder:"开始对话",onKeyup:S(y(u,["stop"]),["enter"])},null,40,q),[[I,a.value]]),s("button",{class:"absolute top-2 lg:top-4 right-4 lg:right-8 w-16 text-blue-300 hover:text-blue-600",onClick:y(u,["stop"])},[z,f(T,{name:"send-plane-fill"})])])):r("",!0),e.loading?(t(),i(K,{key:1})):r("",!0)],64))}};export{F as _};
