import{E as s}from"./tiptap-Bkjnv3GL.js";import{u as a}from"./utils-DVDKZiQc.js";import{m as o}from"./message-DsTL7g5X.js";const p=s.create({name:"operation",addCommands(){return{save:()=>()=>(this.options.onSave&&this.options.onSave(),!1),import:()=>()=>(a({accept:"application/json, text/*, text/markdown"}).then(t=>{if(t.type==="application/json"){if(typeof t.data=="string"){const e=JSON.parse(t.data);this.editor.commands.setContent(e,!0),o.success("导入成功")}}else t.type==="text/html"||t.type==="text/plain"?(this.editor.commands.setContent(t.data,!0),o.success("导入成功")):t.type==="text/markdown"?o.success("导入成功"):o.error(`暂时不支持类型为[${t.type}]的文件`)}).catch(t=>{o.error(t)}),!1),export:t=>()=>(this.options.onExport&&this.options.onExport(t,this.editor),!1),share:()=>()=>(this.options.onShare&&this.options.onShare(),!1)}}});export{p as O};
