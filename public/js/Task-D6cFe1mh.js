import{D as x,p as v,u as b,P as k,F as C,o as T,A as V}from"./tiptap-Bkjnv3GL.js";import{F as _}from"./FloatMenu-C_FOx9on.js";import{d as g}from"./utils-DVDKZiQc.js";import{ai as h,aW as r,am as w,az as l,aA as u,aG as d,au as s,aH as y}from"./vendor-DqHIQWU1.js";import"./index-bEem1MK9.js";import"./message-DsTL7g5X.js";import"./remixicon-l0sNRNKZ.js";const B={id:"editorWrapper",class:"min-w-0 flex-auto px-4 sm:px-6 xl:px-8 py-10"},E={key:0,class:"fixed top-28 right-4 z-40"},A=h({__name:"Task",props:{modelValue:String,editable:{type:Boolean,default:!0}},emits:["update:modelValue","save"],setup(n,{emit:m}){const p=x.extend({content:"taskList"}),c=v.extend({content:"inline*"}),o=n,i=m,f=g(t=>{i("update:modelValue",t.getHTML())},300),e=b({editable:o.editable,content:o.modelValue,editorProps:{attributes:{class:"prose w-full max-w-full focus:outline-none"}},extensions:[p,k,C,T,c],onUpdate:({editor:t})=>{f(t)}});return r(()=>o.modelValue,t=>{e.value&&e.value.getHTML()===t||e.value&&e.value.commands.setContent(t||"",!0)}),r(()=>o.editable,(t,a)=>{t!==a&&e.value&&e.value.setEditable(t)}),w(()=>{e.value&&e.value.destroy()}),(t,a)=>(l(),u("div",B,[d(s(V),{class:"h-full",editor:s(e)},null,8,["editor"]),n.editable?(l(),u("div",E,[d(_,{editor:s(e),onSave:a[0]||(a[0]=L=>i("save"))},null,8,["editor"])])):y("",!0)]))}});export{A as default};
