import{aZ as d,ay as o,az as m,aM as v,aT as g,au as C,aw as z,ax as I,aC as e,aU as S,aA as c,b0 as B,aN as p,aS as h,aP as U,ao as b}from"./vendor-BLq22pPX.js";import{R as u}from"./RemixIcon-BDA1nEXk.js";import{a as $,s as F,u as H}from"./userInfo-CtL9gwPY.js";import{b as N}from"./user-Bu3yqCiw.js";import{b as A}from"./index-DpKJEyGL.js";const M=["src"],R={__name:"Avatar",props:{size:{type:String,default:"md",validate:function(t){return["sm","md","lg"].indexOf(t)!==-1}},img:{type:String,default:""},icon:{type:String,default:"user-2-fill"}},setup(t){const l=t,s=d(()=>{switch(l.size){case"sm":return"w-6 h-6";case"md":return"w-8 h-8";case"lg":return"w-10 h-10"}}),r=d(()=>{switch(l.size){case"sm":return"font-normal text-base";case"md":return"font-medium text-xl";case"lg":return"font-bold text-2xl"}});return(a,x)=>(o(),m("div",{class:g(["inline-block rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 text-center m-2 leading-none",s.value])},[t.img?(o(),m("img",{key:0,src:t.img,class:"inline-block w-full h-full object-cover"},null,8,M)):(o(),v(u,{key:1,class:g(["text-slate-50",r.value]),name:t.icon},null,8,["name","class"]))],2))}},V={id:"header",class:"sticky h-16 top-0 z-20 w-full max-w-screen-2xl mx-auto backdrop-blur lg:border-b border-slate-900/10 bg-white/90 lg:bg-white/60 flex-none flex lg:shadow-none shadow-lg"},j={class:"flex items-center px-2 sm:px-6 lg:mx-6 lg:px-0 xl:mx-8"},D={class:"flex-auto flex items-center justify-end pr-4 sm:pr-6 xl:pr-8"},E={class:"text-sm font-bold"},L={class:"min-w-20 lg:min-w-24 bg-white shadow-xl border border-slate-100 rounded text-center"},O={class:"px-2 py-1 text-slate-500 hover:bg-blue-400 hover:text-slate-50 rounded"},P={class:"px-2 py-1 text-slate-500 hover:bg-blue-400 hover:text-slate-50 rounded"},T={__name:"Header",props:{hiddenFold:{type:Boolean,default:!1},fold:{type:Boolean,default:!0}},emits:["toggleFold"],setup(t,{emit:l}){const s=H(),r=d(()=>s.value&&s.value.avatar?`${A}/file/download?file=${s.value.avatar}&token=${localStorage.getItem("me_token")}`:""),a=C(),x=l,f=()=>{a.push("/home")},_=()=>{x("toggleFold")},w=()=>{localStorage.removeItem("token"),a.push("/login")},y=()=>{a.push("/setting")};return z(()=>{let n=$();n?s.value=n:N().then(i=>{s.value=i,F(i)})}),(n,i)=>{const k=I("tippy");return o(),m("div",V,[e("div",{class:"hidden lg:flex flex-none pl-4 sm:pl-6 xl:pl-8 items-center border-b border-gray-200 lg:border-b-0 lg:w-60 xl:w-72"},[e("div",{class:"font-semibold text-3xl text-slate-500 cursor-pointer",onClick:f},"I Want progress")]),e("div",j,[t.hiddenFold?S("",!0):(o(),v(u,{key:0,name:t.fold?"menu-fold-line":"menu-unfold-line",class:"lg:hidden py-1 px-2 text-2xl text-slate-500 hover:text-slate-700",onClick:_},null,8,["name"])),c(u,{name:"home-8-line",class:"lg:hidden py-1 px-2 text-2xl text-blue-500 hover:text-blue-700",onClick:f}),B(n.$slots,"default")]),e("div",D,[c(k,{trigger:"mouseenter click",placement:"bottom-end",offset:[10,0],animation:"slide",interactive:!0},{content:p(()=>[e("div",L,[e("ul",null,[e("ol",O,[e("a",{onClick:h(y,["stop"])},"我的")]),e("ol",P,[e("a",{onClick:h(w,["stop"])},"退出")])])])]),default:p(()=>[c(R,{size:"sm",img:r.value},null,8,["img"]),e("span",E,U(b(s)&&b(s).name),1)]),_:1})])])}}},K=T;export{K as H,R as _};
