var v=Object.defineProperty;var w=(a,t,e)=>t in a?v(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var f=(a,t,e)=>w(a,typeof t!="symbol"?t+"":t,e);import{aj as h,aT as b,aD as i,aE as m,aH as r,aF as c,aS as _,ay as y,az as V,ao as k,aU as I,aG as N,aV as B}from"./vendor-CWXOCgin.js";import{C as $}from"./Card-D1vwNWTg.js";import"./Modal-B5x_NgZY.js";import{H as C}from"./Header-C2ZRdA8X.js";import{R as H}from"./RemixIcon-CgHXNHMg.js";import{m as j}from"./message-B11-HW_C.js";import{L as F}from"./Loading-6Ot9jxdK.js";import{g as L}from"./app-BhKi2d16.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./userInfo-BH_HArD6.js";import"./Fish-twJ8LYmt.js";const o=class o{constructor(){f(this,"cacheImages");this.cacheImages={}}static getInstance(){return o.instance||(o.instance=new o),o.instance}preloadImage(t,e){if(this.cacheImages[t]){e(this.cacheImages[t]);return}var s=new Image;s.src=t,s.onload=()=>{this.cacheImages[t]=s,e(s)}}};f(o,"instance");let g=o;const O=g.getInstance(),R={class:"flex flex-col items-center shadow-lg rounded dark:rounded-none bg-white dark:bg-transparent dark:border-b dark:border-slate-300/10"},A={class:"lg:text-lg text-slate-300"},D={class:"w-full lg:w-[50rem] px-4 pb-4 lg:pb-8 lg:font-medium lg:text-lg text-slate-500 dark:text-slate-200 text-center"},E={__name:"Note",props:{modelValue:{type:Object,default:()=>({_id:"",image:"",word:"",from:"",photoBy:""})}},setup(a){const t=a,e=h();return b(()=>t.modelValue.image,(s,d)=>{s&&s!==d&&O.preloadImage(s,l=>{var n,p,x;const u=(n=e==null?void 0:e.value)==null?void 0:n.firstChild;u&&((p=e==null?void 0:e.value)==null||p.removeChild(u)),(x=e==null?void 0:e.value)==null||x.appendChild(l)})},{immediate:!0}),(s,d)=>(i(),m("div",R,[r("div",{ref_key:"imageContainer",ref:e,class:"relative w-full lg:max-w-[45rem] min-h-[10rem]"},[c(F)],512),r("span",A,_(a.modelValue.photoBy),1),r("p",D,_(a.modelValue.word),1)]))}},S=()=>y.get("/note/getOneNote").then(a=>{if(a.data.success)return a.data.data;a.data.message&&j.error(a.data.message)}),q={class:"h-screen w-full flex flex-col"},z={class:"flex-1 w-full flex flex-col overflow-y-auto p-2 lg:p-4"},G={class:"flex flex-wrap justify-start"},te={__name:"Home",setup(a){const t=V(),e=h([]),s=h(),d=()=>{t.push({name:"apps"})};return k(()=>{L("quick").then(l=>{e.value=l||[]}),S().then(l=>{s.value=l})}),(l,u)=>(i(),m("div",q,[c(C,{hiddenFold:!0},{default:I(()=>[r("button",{class:"px-2 py-1 hover:bg-slate-100 rounded text-2xl text-gray-500 font-medium",onClick:d},[c(H,{name:"apps-2-add-line"})])]),_:1}),r("div",z,[c(E,{class:"m-2 lg:m-4",modelValue:s.value},null,8,["modelValue"]),r("div",G,[(i(!0),m(N,null,B(e.value,(n,p)=>(i(),m("div",{key:n._id,class:"flex flex-col items-center p-2 lg:p-4 basis-1/4 md:basis-1/6 lg:basis-1/12"},[c($,{modelValue:n,theme:"blue"},null,8,["modelValue"])]))),128))])])]))}};export{te as default};
