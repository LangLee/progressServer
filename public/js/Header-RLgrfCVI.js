import{aj as k,b4 as p,ao as F,aR as I,aD as n,aE as f,aW as g,aY as w,be as $,az as H,aB as N,aC as V,aH as t,aF as i,aX as E,aZ as R,aS as b,aV as v,at as u,aN as U}from"./vendor-7SOp03Eo.js";import{R as m}from"./RemixIcon-C3kAUqBT.js";import{a as _,b as j,s as D,u as L}from"./userInfo-GWa4mCN8.js";import{b as M}from"./user-DjlSiqBu.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P=["src"],T={__name:"Avatar",props:{file:{type:String,default:""},size:{type:String,default:"md",validate:function(s){return["sm","md","lg"].indexOf(s)!==-1}},img:{type:String,default:""},icon:{type:String,default:"user-line"},rounded:{type:Boolean,default:!0}},setup(s){const a=s,l=k(),o=p(()=>{let e="";switch(a.size){case"sm":e="w-6 h-6";break;case"md":e="w-8 h-8";break;case"lg":e="w-10 h-10";break}return a.rounded&&(e+=" rounded-full"),e}),d=p(()=>{switch(a.size){case"sm":return"font-normal text-base";case"md":return"font-medium text-xl";case"lg":return"font-bold text-2xl"}});return F(async()=>{if(a.file){let e=_(a.file);e instanceof Promise?l.value=await e:l.value=e}}),I(()=>a.file,async(e,h)=>{if(e){let r=_(e);r instanceof Promise?l.value=await r:l.value=r}}),(e,h)=>(n(),f("div",{class:g(["inline-block text-center leading-none bg-blue-300",o.value])},[l.value||s.img?(n(),f("img",{key:0,src:l.value||s.img,class:g(["inline-block w-full h-full object-cover",{"rounded-full":s.rounded}])},null,10,P)):(n(),w(m,{key:1,class:g(["text-white",d.value]),name:s.icon},null,8,["name","class"]))],2))}},O={class:"relative fish flex flex-row fish w-12 h-6"},W=$('<div class="fish-head w-3 h-6 bg-purple-300" data-v-8520d796><div class="fish-eye w-2 h-2 bg-white rounded-full absolute top-1 left-1" data-v-8520d796></div><div class="fish-eyeball w-1 h-1 bg-neutral-900 rounded-full absolute top-1 left-1" data-v-8520d796></div></div><div class="fish-body w-6 h-6 bg-blue-300" data-v-8520d796></div><div class="fish-tail w-3 h-6 bg-red-300" data-v-8520d796></div><div class="fish-shark w-5 h-5 bg-red-300" data-v-8520d796></div>',4),X=[W],Y={__name:"Fish",setup(s){return(a,l)=>(n(),f("div",O,X))}},Z=A(Y,[["__scopeId","data-v-8520d796"]]),q={id:"header",class:"sticky h-16 top-0 z-20 w-full max-w-screen-2xl mx-auto backdrop-blur lg:border-b dark:border-b lg:border-slate-900/10 bg-white/90 lg:bg-white/60 dark:border-slate-50/20 dark:bg-transparent flex-none flex lg:shadow-none shadow-lg"},G={class:"hidden lg:flex flex-none pl-4 sm:pl-6 xl:pl-8 items-center border-b border-gray-200 lg:border-b-0 lg:w-60 xl:w-72"},J=t("span",{class:"text-gray-500 font-medium text-2xl"},"I want progress",-1),K={class:"flex items-center px-2 sm:px-6 lg:mx-6 lg:px-0 xl:mx-8"},Q={class:"flex-auto flex items-center justify-end pr-4 dark:text-slate-50"},ee={class:"text-sm font-bold cursor-pointer"},te={class:"min-w-20 lg:min-w-24 bg-white dark:bg-neutral-800 shadow-xl border border-slate-100 dark:border-slate-50/20 rounded text-center text-slate-500 dark:text-slate-50"},se={class:"px-2 py-1 hover:bg-blue-400 hover:text-slate-50 rounded dark:border-b dark:border-slate-50/20 cursor-pointer"},ae={class:"px-2 py-1 hover:bg-blue-400 hover:text-slate-50 rounded cursor-pointer"},le={__name:"Header",props:{hiddenFold:{type:Boolean,default:!1},fold:{type:Boolean,default:!0}},emits:["toggleFold"],setup(s,{emit:a}){const l=()=>document.body,o=L(),d=H(),e=k(localStorage.theme==="dark"),h=a,r=()=>{d.push("/home")},y=()=>{h("toggleFold")},C=()=>{localStorage.removeItem("me_token"),d.push("/login")},S=()=>{d.push("/setting")},B=()=>{e.value?(localStorage.theme="light",document.documentElement.classList.remove("dark")):(localStorage.theme="dark",document.documentElement.classList.add("dark")),e.value=!e.value};return N(()=>{let c=j();c?o.value=c:M().then(x=>{o.value=x,D(x)})}),(c,x)=>{const z=V("tippy");return n(),f("div",q,[t("div",G,[t("div",{class:"flex flex-row items-center text-slate-500 dark:text-slate-300 cursor-pointer",onClick:r},[i(Z),J])]),t("div",K,[s.hiddenFold?E("",!0):(n(),w(m,{key:0,name:s.fold?"menu-fold-line":"menu-unfold-line",class:"lg:hidden py-1 px-2 text-2xl text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",onClick:y},null,8,["name"])),i(m,{name:"home-8-line",class:"lg:hidden py-1 px-2 text-2xl text-blue-500 hover:text-blue-700 dark:text-slate-300 dark:hover:text-slate-50",onClick:r}),R(c.$slots,"default")]),t("div",Q,[i(m,{name:e.value?"moon-fill":"sun-fill",class:"text-2xl cursor-pointer mr-2",onClick:B},null,8,["name"]),i(z,{trigger:"mouseenter click",placement:"bottom-end",offset:[10,0],animation:"scale",interactive:!0,appendTo:l},{content:b(()=>[t("div",te,[t("ul",null,[t("ol",se,[t("a",{onClick:v(S,["stop"])},"我的")]),t("ol",ae,[t("a",{onClick:v(C,["stop"])},"退出")])])])]),default:b(()=>[i(T,{class:"cursor-pointer mr-2",size:"sm",file:u(o)&&u(o).avatar},null,8,["file"]),t("span",ee,U(u(o)&&u(o).name),1)]),_:1})])])}}},ce=le;export{ce as H,T as _};
