import{ae as v,aM as w,ax as A,ay as r,az as u,aC as p,aI as b,aA as k,aO as y,aB as V,aQ as G,at as f,aZ as S,aN as j,aJ as g,aK as h,a_ as P,aU as $}from"./vendor-BNUAhoVR.js";import{M}from"./Modal-CRZm8Nfu.js";import{R as O}from"./RemixIcon-D7fRXDKe.js";var U=(e=>(e.markdown="富文本",e.text="文字",e.drawing="图画",e.task="待办",e.code="代码",e.link="链接",e.chat="对话",e))(U||{});const C={class:"flex px-2 py-1 lg:py-2 bg-white text-slate-600 dark:text-slate-100 dark:bg-neutral-800 placeholder-slate-300 shadow-sm border rounded-md text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"},N={class:"flex-1 pr-4"},T={key:0},I={key:1,class:"text-slate-300"},R={class:"p-2 bg-white dark:bg-neutral-800 shadow-xl rounded"},D=["onClick"],H={__name:"Select",props:{options:{type:Array,default:()=>[]},modelValue:String,palaceHolder:{type:String,default:"请选择"}},emits:["update:value"],setup(e,{emit:t}){const s=v(),c=e,d=t,l=v(""),m=i=>{l.value=i.label,d("update:modelValue",i.value),s.value.hide()};return w(()=>c.modelValue,i=>{c.options.map(({value:n,label:a})=>{i===n&&(l.value=a)})},{immediate:!0}),(i,n)=>{const a=A("tippy");return r(),u("div",C,[p("div",N,[l.value?(r(),u("span",T,b(l.value),1)):(r(),u("span",I,b(e.palaceHolder),1))]),k(a,{class:"w-0",ref_key:"dropdown",ref:s,trigger:"click",placement:"bottom-end",offset:[0,10],animation:"fade",interactive:!0,arrow:!1},{content:y(()=>[p("div",R,[(r(!0),u(V,null,G(e.options,(o,x)=>(r(),u("div",{key:x,class:"w-full px-2 py-1 cursor-pointer hover:bg-blue-100 dark:border-b dark:border-slate-50/20",onClick:B=>m(o)},b(o.label),9,D))),128))])]),default:y(()=>[k(O,{class:"float-right hover:text-blue-500",name:"arrow-down-s-line"})]),_:1},512)])}}},W=()=>f.get("/groups/getPortalAndBooks").then(e=>e&&e.data&&e.data.success?e.data.data:Promise.reject(e&&e.data&&e.data.message)),X=e=>f.get("/groups/getAppGroupAndBooks",{params:{defaultGroup:e}}).then(t=>t&&t.data&&t.data.success?t.data.data:Promise.reject(t&&t.data&&t.data.message)),Y=e=>f.post("/groups/createGroup",e).then(t=>t&&t.data&&t.data.success?t.data.data:Promise.reject(t&&t.data&&t.data.message)),_=e=>f.post("/groups/updateGroup",e).then(t=>t&&t.data&&t.data.success?t.data.data:Promise.reject(t&&t.data&&t.data.message)),ee=e=>f.post("/groups/removeGroup",{id:e}).then(t=>t&&t.data&&t.data.success?t.data.data:Promise.reject(t&&t.data&&t.data.message)),z={key:1,class:"flex flex-row flex-wrap px-2 my-2"},E={class:"mr-2"},F=["id","value","onUpdate:modelValue"],J=["for"],K={__name:"BookModal",props:{visible:{type:Boolean,default:!1},book:{type:Object,default:()=>({id:"",title:"",category:"",url:"",type:""})},categories:{type:Array,default:()=>[]},types:{type:Object,default:()=>U},fixedType:{type:String,default:""}},emits:["update:book","confirm","cancel"],setup(e,{emit:t}){const s=e,c=S(()=>s.categories.map(n=>({label:n.name,value:n.id}))),d=t,l=v(s.visible),m=()=>{d("confirm"),l.value=!1},i=()=>{d("cancel"),l.value=!1};return w(()=>s.visible,()=>{l.value=s.visible}),(n,a)=>(r(),j(M,{visible:l.value,"onUpdate:visible":a[3]||(a[3]=o=>l.value=o),onConfirm:m,onCancel:i},{default:y(()=>[g(p("input",{class:"p-2 my-2 bg-white text-slate-600 placeholder-slate-300 shadow-sm border rounded-md text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",type:"text","onUpdate:modelValue":a[0]||(a[0]=o=>e.book.title=o),placeholder:"请输入书名"},null,512),[[h,e.book.title]]),k(H,{class:"my-2",modelValue:e.book.category,"onUpdate:modelValue":a[1]||(a[1]=o=>e.book.category=o),options:c.value},null,8,["modelValue","options"]),e.fixedType==="link"?g((r(),u("input",{key:0,class:"p-2 my-2 bg-white text-slate-600 placeholder-slate-300 shadow-sm border rounded-md text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",type:"text","onUpdate:modelValue":a[2]||(a[2]=o=>e.book.url=o),placeholder:"请输入链接(http://www.xxxx.com)"},null,512)),[[h,e.book.url]]):e.fixedType?$("",!0):(r(),u("div",z,[(r(!0),u(V,null,G(Object.keys(e.types),(o,x)=>(r(),u("span",{key:x,class:"pr-4 py-2 basis-1/4 lg:basis-1/3"},[p("span",E,[g(p("input",{id:o,value:o,type:"radio","onUpdate:modelValue":B=>e.book.type=B},null,8,F),[[P,e.book.type]])]),p("label",{for:o},b(e.types[o]),9,J)]))),128))]))]),_:1},8,["visible"]))}},te=K,L={__name:"GroupModal",props:{visible:{type:Boolean,default:!1},title:{type:String,default:"新增分类"},group:{type:Object,default:()=>({name:"",icon:""})}},emits:["update:group","confirm","cancel"],setup(e,{emit:t}){const s=e,c=t,d=v(s.visible),l=()=>{c("confirm"),d.value=!1},m=()=>{c("cancel"),d.value=!1};return w(()=>s.visible,()=>{d.value=s.visible}),(i,n)=>(r(),j(M,{title:e.title,visible:d.value,"onUpdate:visible":n[1]||(n[1]=a=>d.value=a),onConfirm:l,onCancel:m},{default:y(()=>[g(p("input",{class:"p-2 mb-2 bg-white text-slate-600 placeholder-slate-300 shadow-sm border rounded-md text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",type:"text","onUpdate:modelValue":n[0]||(n[0]=a=>e.group.name=a),placeholder:"请输入分类名"},null,512),[[h,e.group.name]])]),_:1},8,["title","visible"]))}},ae=L;export{te as B,ae as G,H as _,W as a,Y as c,X as g,ee as r,_ as u};
