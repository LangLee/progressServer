import{aj as s,aK as h,az as x,aA as y,aD as t,aG as r,aF as V,aE as p,b0 as b}from"./vendor-DqHIQWU1.js";import"./message-DsTL7g5X.js";import{P as d}from"./ProInput-DLzwbHQE.js";import{a as _,s as P}from"./verification-CL8ovHMx.js";import"./utils-DVDKZiQc.js";import"./remixicon-l0sNRNKZ.js";/* empty css                                                                 */const k={class:"h-screen flex flex-col items-center justify-center lg:bg-slate-300/20 p-2 lg:p-4"},U={class:"w-full lg:w-96 flex flex-col bg-white p-8 rounded-md lg:shadow-md"},j=t("div",{class:"flex h-12 justify-center items-center font-sans font-medium lg:font-semibold text-2xl lg:text-3xl leading-12 text-slate-500 mt-2"},[t("p",null,"Progress")],-1),B={class:"w-full my-2 flex flex-row justify-between"},C={class:"text-red-400 text-sm"},G={__name:"Forget",setup(A){s(""),s("");const n=s(""),o=s(""),u=s(""),i=s(""),f=h(),m=s(""),c=s(!1),v=()=>{let l="",e=!0;return o.value?o.value.length<6?(l="请输入至少6位的密码",e=!1):o.value!==u.value&&(l="两次输入密码不同",e=!1):(l="请输入密码",e=!1),{message:l,success:e}},g=()=>{let l=v();if(!l.success){i.value=l.message,console.log(i);return}_({email:n.value,password:b(o.value)},m.value).then(e=>{e?f.push("login"):console.log("更新失败")})},w=()=>{P({email:n.value}).then(l=>{l&&(c.value=!0)})};return(l,e)=>(x(),y("div",k,[t("div",U,[j,r(d,{class:"my-2",name:"email",modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a),placeholder:"输入邮箱"},null,8,["modelValue"]),t("div",B,[r(d,{width:48,name:"verification",modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=a=>m.value=a),placeholder:"输入验证码"},null,8,["modelValue"]),t("button",{class:"px-2 bg-slate-300 text-white font-semibold rounded-md hover:bg-slate-600",onClick:V(w,["stop"])},p(c.value?"重新发送":"发送验证码"),1)]),r(d,{class:"my-2",type:"password",name:"password",modelValue:o.value,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value=a),placeholder:"输入大于6位密码"},null,8,["modelValue"]),r(d,{class:"my-2",type:"password",name:"checkPassword",modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=a=>u.value=a),placeholder:"再次输入大于6位密码"},null,8,["modelValue"]),t("span",C,p(i.value),1),t("button",{class:"py-2 lg:py-3 px-4 my-2 bg-slate-400 text-white font-semibold rounded-md shadow-md hover:bg-slate-700",onClick:g},"修改密码")])]))}};export{G as default};
