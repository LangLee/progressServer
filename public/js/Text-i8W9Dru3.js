import{u as f,D as x,P as v,F as h,A as _}from"./tiptap-Bkjnv3GL.js";import{d as b}from"./utils-DVDKZiQc.js";import{F as V}from"./FloatMenu-C_FOx9on.js";import{O as g}from"./operation-BrucOqqW.js";import{ai as B,aW as i,am as C,az as l,aA as d,aD as u,aG as m,au as r,aH as E,aO as S}from"./vendor-DqHIQWU1.js";import"./remixicon-l0sNRNKZ.js";import"./index-bEem1MK9.js";import"./message-DsTL7g5X.js";const w={id:"editorWrapper",class:"min-w-0 flex-auto px-4 sm:px-6 xl:px-8 py-10"},y={key:0},F={class:"fixed top-28 right-4 z-40"},z=B({__name:"Text",props:{modelValue:String,editable:{type:Boolean,default:!0}},emits:["update:modelValue","save","share","export"],setup(n,{emit:p}){const o=n,s=p,c=b(e=>{s("update:modelValue",e.getHTML())},300),t=f({editable:o.editable,content:o.modelValue,editorProps:{attributes:{class:"prose w-full max-w-full focus:outline-none"}},extensions:[x,v,h,g.configure({onSave:()=>{s("save")},onExport:(e,a)=>{s("export",e,a)},onShare:()=>{s("share")}})],onUpdate:({editor:e})=>{c(e)}});return i(()=>o.modelValue,e=>{t.value&&t.value.getHTML()===e||t.value&&t.value.commands.setContent(e||"",!0)}),i(()=>o.editable,(e,a)=>{e!==a&&t.value&&t.value.setEditable(e)}),C(()=>{t.value&&t.value.destroy()}),(e,a)=>(l(),d(S,null,[u("div",w,[m(r(_),{class:"h-full",editor:r(t)},null,8,["editor"])]),n.editable?(l(),d("div",y,[u("div",F,[m(V,{editor:r(t)},null,8,["editor"])])])):E("",!0)],64))}});export{z as default};
