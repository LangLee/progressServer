import{aZ as m,ay as a,az as x,aN as v,aT as p,au as B,ae as I,aw as U,ax as F,aC as e,aU as $,aA as d,b0 as H,aO as h,aS as b,aI as N,ao as k}from"./vendor-1hORrrXR.js";import{R as i}from"./RemixIcon-DLZgjpvL.js";import{a as A,s as E,u as L}from"./userInfo-BaXGolSQ.js";import{b as R}from"./user-CStxEDWN.js";import{b as T}from"./index-CA56zL0v.js";const V=["src"],j={__name:"Avatar",props:{size:{type:String,default:"md",validate:function(t){return["sm","md","lg"].indexOf(t)!==-1}},img:{type:String,default:""},icon:{type:String,default:"user-2-fill"}},setup(t){const o=t,c=m(()=>{switch(o.size){case"sm":return"w-6 h-6";case"md":return"w-8 h-8";case"lg":return"w-10 h-10"}}),s=m(()=>{switch(o.size){case"sm":return"font-normal text-base";case"md":return"font-medium text-xl";case"lg":return"font-bold text-2xl"}});return(g,l)=>(a(),x("div",{class:p(["inline-block rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 text-center m-2 leading-none",c.value])},[t.img?(a(),x("img",{key:0,src:t.img,class:"inline-block w-full h-full object-cover"},null,8,V)):(a(),v(i,{key:1,class:p(["text-slate-50",s.value]),name:t.icon},null,8,["name","class"]))],2))}},D={id:"header",class:"sticky h-16 top-0 z-20 w-full max-w-screen-2xl mx-auto backdrop-blur lg:border-b dark:border-b lg:border-slate-900/10 bg-white/90 lg:bg-white/60 dark:border-slate-50/20 dark:bg-transparent flex-none flex lg:shadow-none shadow-lg"},M={class:"flex items-center px-2 sm:px-6 lg:mx-6 lg:px-0 xl:mx-8"},O={class:"flex-auto flex items-center justify-end pr-4 sm:pr-6 xl:pr-8 dark:text-slate-50"},W={class:"text-sm font-bold cursor-pointer"},Z={class:"min-w-20 lg:min-w-24 bg-white dark:bg-neutral-800 shadow-xl border border-slate-100 dark:border-slate-50/20 rounded text-center text-slate-500 dark:text-slate-50"},q={class:"px-2 py-1 hover:bg-blue-400 hover:text-slate-50 rounded dark:border-b dark:border-slate-50/20"},G={class:"px-2 py-1 hover:bg-blue-400 hover:text-slate-50 rounded"},J={__name:"Header",props:{hiddenFold:{type:Boolean,default:!1},fold:{type:Boolean,default:!0}},emits:["toggleFold"],setup(t,{emit:o}){const c=()=>document.body,s=L(),g=m(()=>s.value&&s.value.avatar?`${T}/file/download?file=${s.value.avatar}`:""),l=B(),r=I(localStorage.theme==="dark"),_=o,f=()=>{l.push("/home")},w=()=>{_("toggleFold")},y=()=>{localStorage.removeItem("me_token"),l.push("/login")},C=()=>{l.push("/setting")},S=()=>{r.value?(localStorage.theme="light",document.documentElement.classList.remove("dark")):(localStorage.theme="dark",document.documentElement.classList.add("dark")),r.value=!r.value};return U(()=>{let n=A();n?s.value=n:R().then(u=>{s.value=u,E(u)})}),(n,u)=>{const z=F("tippy");return a(),x("div",D,[e("div",{class:"hidden lg:flex flex-none pl-4 sm:pl-6 xl:pl-8 items-center border-b border-gray-200 lg:border-b-0 lg:w-60 xl:w-72"},[e("div",{class:"font-semibold text-3xl text-slate-500 dark:text-slate-300 cursor-pointer",onClick:f},"I Want progress")]),e("div",M,[t.hiddenFold?$("",!0):(a(),v(i,{key:0,name:t.fold?"menu-fold-line":"menu-unfold-line",class:"lg:hidden py-1 px-2 text-2xl text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",onClick:w},null,8,["name"])),d(i,{name:"home-8-line",class:"lg:hidden py-1 px-2 text-2xl text-blue-500 hover:text-blue-700 dark:text-slate-300 dark:hover:text-slate-50",onClick:f}),H(n.$slots,"default")]),e("div",O,[d(i,{name:r.value?"moon-fill":"sun-fill",class:"text-2xl cursor-pointer",onClick:S},null,8,["name"]),d(z,{trigger:"mouseenter click",placement:"bottom-end",offset:[10,0],animation:"slide",interactive:!0,appendTo:c},{content:h(()=>[e("div",Z,[e("ul",null,[e("ol",q,[e("a",{onClick:b(C,["stop"])},"我的")]),e("ol",G,[e("a",{onClick:b(y,["stop"])},"退出")])])])]),default:h(()=>[d(j,{class:"cursor-pointer",size:"sm",img:g.value},null,8,["img"]),e("span",W,N(k(s)&&k(s).name),1)]),_:1})])])}}},ee=J;export{ee as H,j as _};
