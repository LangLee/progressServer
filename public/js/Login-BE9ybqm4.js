import{aj as u,az as v,aD as n,aE as m,aH as l,aF as d,aN as _,aO as k,aP as $,ao as V,aQ as p,aR as j,aS as C}from"./vendor-CWXOCgin.js";import{F as w,l as b,g as L}from"./Fish-twJ8LYmt.js";import{m as c}from"./message-B11-HW_C.js";import{s as y}from"./userInfo-BH_HArD6.js";import{_ as x}from"./ProInput-iqkAS6hM.js";import{L as M}from"./Loading-6Ot9jxdK.js";import{R as h}from"./RemixIcon-CgHXNHMg.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"w-full flex flex-col items-center justify-center"},I={class:"flex h-12 justify-center items-center font-sans font-medium lg:font-semibold text-2xl lg:text-3xl leading-12 text-slate-500 mt-2"},N=l("p",null,"Progress",-1),U={__name:"AccountLogin",setup(g){const o=u(""),e=u(""),r=v(),i=()=>{console.log(o.value,e.value,_(e.value)),b({name:o.value,password:_(e.value)}).then(t=>{if(console.log(t),t&&t.data)if(t.data.success){let{token:a,user:f}=t.data.data;a?(localStorage.setItem("me_token",a),y(f),r.push("/home")):t.data.message&&c.error(t.data.message)}else console.log("登录失败"),t.data.message&&c.error(t.data.message);else t.data.message&&c.error("登录失败")})},s=()=>{r.push("register")};return(t,a)=>(n(),m("div",R,[l("div",I,[d(w),N]),d(x,{name:"name",modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=f=>o.value=f),placeholder:"请输入用户名"},null,8,["modelValue"]),d(x,{type:"password",name:"password",modelValue:e.value,"onUpdate:modelValue":a[1]||(a[1]=f=>e.value=f),placeholder:"请输入密码"},null,8,["modelValue"]),l("div",{class:"w-full flex flex-row justify-between my-2 lg:my-3"},[l("button",{class:"w-1/2 py-2 lg:py-3 mr-2 bg-blue-300 lg:text-lg text-white font-semibold rounded-md shadow-md hover:bg-blue-600",onClick:i},"登录"),l("button",{class:"w-1/2 py-2 lg:py-3 ml-2 bg-red-300 lg:text-lg text-white font-semibold rounded-md shadow-md hover:bg-red-600",onClick:s},"注册")])]))}},B={class:"w-full flex flex-col items-center justify-center"},D={class:"flex h-12 justify-center items-center font-sans font-medium lg:font-semibold text-2xl lg:text-3xl leading-12 text-slate-500 mt-2"},P=l("p",null,"Progress",-1),S={class:"w-full my-2 lg:my-3 flex flex-row justify-between"},E=l("button",{class:"px-2 bg-slate-300 text-white font-semibold rounded-md shadow-md hover:bg-slate-600"},"获取验证码",-1),F={__name:"MobileLogin",setup(g){const o=u(""),e=u(""),r=v(),i=()=>{console.log(o.value,e.value),b({mobile:o.value,verification:e.value}).then(s=>{if(console.log(s),s&&s.data)if(s.data.success){let{token:t,user:a}=s.data.data;t?(localStorage.setItem("me_token",t),y(a),r.push("/home")):s.data.message&&c.error(s.data.message)}else console.log("登录失败"),s.data.message&&c.error(s.data.message);else s.data.message&&c.error("登录失败")})};return(s,t)=>(n(),m("div",B,[l("div",D,[d(w),P]),d(x,{name:"mobile",modelValue:s.password,"onUpdate:modelValue":t[0]||(t[0]=a=>s.password=a),placeholder:"请输入手机号"},null,8,["modelValue"]),l("div",S,[k(l("input",{class:"w-48 px-4 py-2 lg:py-3 mr-2 bg-transparent text-slate-600 lg:text-lg placeholder-slate-300 shadow-sm border rounded-md text-base focus:outline-none focus:ring-1 focus:ring-blue-600 focus:border-transparent",type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>e.value=a),placeholder:"输入验证码"},null,512),[[$,e.value]]),E]),l("button",{class:"w-full py-2 lg:py-3 my-2 lg:my-3 bg-blue-300 lg:text-lg text-white font-semibold rounded-md shadow-md hover:bg-blue-600",onClick:i},"登录")]))}},O={class:"w-full flex flex-col items-center justify-center"},A=["src"],Q={key:1,class:"relative w-full min-h-56"},q={__name:"WeChatLogin",setup(g){const o=u("");return V(()=>{L().then(e=>{o.value=e})}),(e,r)=>(n(),m("div",O,[o.value?(n(),m("img",{key:0,class:"w-full h-full",src:o.value,alt:"小程序码"},null,8,A)):(n(),m("div",Q,[d(M)]))]))}},z={class:"h-screen flex flex-col items-center justify-center lg:bg-slate-300/20 p-4"},G={class:"w-full lg:w-96 flex flex-col bg-white p-8 rounded-md lg:shadow-md"},H=l("div",{class:"w-full flex flex-row items-center text-slate-700 text-sm mt-4"},[l("span",{class:"login-more-wrap-left"}),l("span",{class:"flex-1 text-center"},"其他登录方式"),l("span",{class:"login-more-wrap-right"})],-1),T={class:"flex flex-row justify-between mt-4"},se={__name:"Login",setup(g){const o={1:"账号登录",2:"免密登录",3:"微信登录"},e=u(1),r=i=>{i?e.value=i:e.value=e.value===1?2:1};return(i,s)=>(n(),m("div",z,[l("div",G,[e.value===1?(n(),p(U,{key:0})):e.value===2?(n(),p(F,{key:1})):e.value===3?(n(),p(q,{key:2})):j("",!0),H,l("div",T,[l("button",{class:"h-8 rounded-full px-4 text-sm text-white bg-slate-500 hover:bg-slate-300",onClick:s[0]||(s[0]=t=>r())},[d(h,{class:"text-white mr-1",name:e.value===1?"smartphone-line":"user-line"},null,8,["name"]),l("span",null,C(e.value===1?o[2]:o[1]),1)]),l("button",{class:"w-8 h-8 rounded-full text-2xl bg-green-600",onClick:s[1]||(s[1]=t=>r(3))},[d(h,{class:"text-white",name:"wechat-fill"})])])])]))}};export{se as default};
