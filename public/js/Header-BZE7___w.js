import{aZ as m,ay as l,az as x,aN as k,aT as f,au as z,ae as I,aw as B,ax as U,aC as e,aU as F,aA as d,b0 as $,aO as p,aS as h,aI as H,ao as b}from"./vendor-BNUAhoVR.js";import{R as i}from"./RemixIcon-D7fRXDKe.js";import{a as N,s as A,u as E}from"./userInfo-CWFSU6LP.js";import{b as L}from"./user-vqedsJWp.js";import{b as R}from"./index-CajyH5eH.js";const V=["src"],j={__name:"Avatar",props:{size:{type:String,default:"md",validate:function(t){return["sm","md","lg"].indexOf(t)!==-1}},img:{type:String,default:""},icon:{type:String,default:"user-2-fill"}},setup(t){const o=t,s=m(()=>{switch(o.size){case"sm":return"w-6 h-6";case"md":return"w-8 h-8";case"lg":return"w-10 h-10"}}),c=m(()=>{switch(o.size){case"sm":return"font-normal text-base";case"md":return"font-medium text-xl";case"lg":return"font-bold text-2xl"}});return(r,a)=>(l(),x("div",{class:f(["inline-block rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 text-center m-2 leading-none",s.value])},[t.img?(l(),x("img",{key:0,src:t.img,class:"inline-block w-full h-full object-cover"},null,8,V)):(l(),k(i,{key:1,class:f(["text-slate-50",c.value]),name:t.icon},null,8,["name","class"]))],2))}},D={id:"header",class:"sticky h-16 top-0 z-20 w-full max-w-screen-2xl mx-auto backdrop-blur lg:border-b dark:border-b lg:border-slate-900/10 bg-white/90 lg:bg-white/60 dark:border-slate-50/20 dark:bg-transparent flex-none flex lg:shadow-none shadow-lg"},M={class:"flex items-center px-2 sm:px-6 lg:mx-6 lg:px-0 xl:mx-8"},O={class:"flex-auto flex items-center justify-end pr-4 sm:pr-6 xl:pr-8 dark:text-slate-50"},T={class:"text-sm font-bold cursor-pointer"},W={class:"min-w-20 lg:min-w-24 bg-white dark:bg-neutral-800 shadow-xl border border-slate-100 dark:border-slate-50/20 rounded text-center text-slate-500 dark:text-slate-50"},Z={class:"px-2 py-1 hover:bg-blue-400 hover:text-slate-50 rounded dark:border-b dark:border-slate-50/20"},q={class:"px-2 py-1 hover:bg-blue-400 hover:text-slate-50 rounded"},G={__name:"Header",props:{hiddenFold:{type:Boolean,default:!1},fold:{type:Boolean,default:!0}},emits:["toggleFold"],setup(t,{emit:o}){const s=E(),c=m(()=>s.value&&s.value.avatar?`${R}/file/download?file=${s.value.avatar}`:""),r=z(),a=I(localStorage.theme==="dark"),v=o,g=()=>{r.push("/home")},_=()=>{v("toggleFold")},w=()=>{localStorage.removeItem("token"),r.push("/login")},y=()=>{r.push("/setting")},C=()=>{a.value?(localStorage.theme="light",document.documentElement.classList.remove("dark")):(localStorage.theme="dark",document.documentElement.classList.add("dark")),a.value=!a.value};return B(()=>{let n=N();n?s.value=n:L().then(u=>{s.value=u,A(u)})}),(n,u)=>{const S=U("tippy");return l(),x("div",D,[e("div",{class:"hidden lg:flex flex-none pl-4 sm:pl-6 xl:pl-8 items-center border-b border-gray-200 lg:border-b-0 lg:w-60 xl:w-72"},[e("div",{class:"font-semibold text-3xl text-slate-500 dark:text-slate-300 cursor-pointer",onClick:g},"I Want progress")]),e("div",M,[t.hiddenFold?F("",!0):(l(),k(i,{key:0,name:t.fold?"menu-fold-line":"menu-unfold-line",class:"lg:hidden py-1 px-2 text-2xl text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",onClick:_},null,8,["name"])),d(i,{name:"home-8-line",class:"lg:hidden py-1 px-2 text-2xl text-blue-500 hover:text-blue-700 dark:text-slate-300 dark:hover:text-slate-50",onClick:g}),$(n.$slots,"default")]),e("div",O,[d(i,{name:a.value?"moon-fill":"sun-fill",class:"text-2xl cursor-pointer",onClick:C},null,8,["name"]),d(S,{trigger:"mouseenter click",placement:"bottom-end",offset:[10,0],animation:"slide",interactive:!0},{content:p(()=>[e("div",W,[e("ul",null,[e("ol",Z,[e("a",{onClick:h(y,["stop"])},"我的")]),e("ol",q,[e("a",{onClick:h(w,["stop"])},"退出")])])])]),default:p(()=>[d(j,{class:"cursor-pointer",size:"sm",img:c.value},null,8,["img"]),e("span",T,H(b(s)&&b(s).name),1)]),_:1})])])}}},Y=G;export{Y as H,j as _};
