import{b3 as m,aD as o,aE as x,aS as v,aY as p,az as z,aj as I,aB as F,aC as H,aH as e,aZ as U,aF as d,b8 as $,aT as h,aX as b,aN as E,at as k}from"./vendor-Ca624vxD.js";import{R as c}from"./RemixIcon-Cy7WqHn8.js";import{a as N,s as j,u as D}from"./userInfo-CpJIz3bh.js";import{b as L}from"./user-Ugs0z67X.js";import{b as R}from"./index-D5Zmbx3T.js";const T=["src"],V={__name:"Avatar",props:{size:{type:String,default:"md",validate:function(t){return["sm","md","lg"].indexOf(t)!==-1}},img:{type:String,default:""},icon:{type:String,default:"user-2-fill"}},setup(t){const a=t,i=m(()=>{switch(a.size){case"sm":return"w-6 h-6";case"md":return"w-8 h-8";case"lg":return"w-10 h-10"}}),s=m(()=>{switch(a.size){case"sm":return"font-normal text-base";case"md":return"font-medium text-xl";case"lg":return"font-bold text-2xl"}});return(g,l)=>(o(),x("div",{class:p(["inline-block rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 text-center leading-none",i.value])},[t.img?(o(),x("img",{key:0,src:t.img,class:"inline-block w-full h-full object-cover"},null,8,T)):(o(),v(c,{key:1,class:p(["text-slate-50",s.value]),name:t.icon},null,8,["name","class"]))],2))}},A={id:"header",class:"sticky h-16 top-0 z-20 w-full max-w-screen-2xl mx-auto backdrop-blur lg:border-b dark:border-b lg:border-slate-900/10 bg-white/90 lg:bg-white/60 dark:border-slate-50/20 dark:bg-transparent flex-none flex lg:shadow-none shadow-lg"},M={class:"flex items-center px-2 sm:px-6 lg:mx-6 lg:px-0 xl:mx-8"},O={class:"flex-auto flex items-center justify-end pr-4 dark:text-slate-50"},W={class:"text-sm font-bold cursor-pointer"},X={class:"min-w-20 lg:min-w-24 bg-white dark:bg-neutral-800 shadow-xl border border-slate-100 dark:border-slate-50/20 rounded text-center text-slate-500 dark:text-slate-50"},Y={class:"px-2 py-1 hover:bg-blue-400 hover:text-slate-50 rounded dark:border-b dark:border-slate-50/20 cursor-pointer"},Z={class:"px-2 py-1 hover:bg-blue-400 hover:text-slate-50 rounded cursor-pointer"},q={__name:"Header",props:{hiddenFold:{type:Boolean,default:!1},fold:{type:Boolean,default:!0}},emits:["toggleFold"],setup(t,{emit:a}){const i=()=>document.body,s=D(),g=m(()=>s.value&&s.value.avatar?`${R}/file/download?file=${s.value.avatar}`:""),l=z(),r=I(localStorage.theme==="dark"),_=a,f=()=>{l.push("/home")},w=()=>{_("toggleFold")},y=()=>{localStorage.removeItem("me_token"),l.push("/login")},C=()=>{l.push("/setting")},S=()=>{r.value?(localStorage.theme="light",document.documentElement.classList.remove("dark")):(localStorage.theme="dark",document.documentElement.classList.add("dark")),r.value=!r.value};return F(()=>{let n=N();n?s.value=n:L().then(u=>{s.value=u,j(u)})}),(n,u)=>{const B=H("tippy");return o(),x("div",A,[e("div",{class:"hidden lg:flex flex-none pl-4 sm:pl-6 xl:pl-8 items-center border-b border-gray-200 lg:border-b-0 lg:w-60 xl:w-72"},[e("div",{class:"font-semibold text-3xl text-slate-500 dark:text-slate-300 cursor-pointer",onClick:f},"I Want progress")]),e("div",M,[t.hiddenFold?U("",!0):(o(),v(c,{key:0,name:t.fold?"menu-fold-line":"menu-unfold-line",class:"lg:hidden py-1 px-2 text-2xl text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",onClick:w},null,8,["name"])),d(c,{name:"home-8-line",class:"lg:hidden py-1 px-2 text-2xl text-blue-500 hover:text-blue-700 dark:text-slate-300 dark:hover:text-slate-50",onClick:f}),$(n.$slots,"default")]),e("div",O,[d(c,{name:r.value?"moon-fill":"sun-fill",class:"text-2xl cursor-pointer mr-2",onClick:S},null,8,["name"]),d(B,{trigger:"mouseenter click",placement:"bottom-end",offset:[10,0],animation:"scale",interactive:!0,appendTo:i},{content:h(()=>[e("div",X,[e("ul",null,[e("ol",Y,[e("a",{onClick:b(C,["stop"])},"我的")]),e("ol",Z,[e("a",{onClick:b(y,["stop"])},"退出")])])])]),default:h(()=>[d(V,{class:"cursor-pointer mr-2",size:"sm",img:g.value},null,8,["img"]),e("span",W,E(k(s)&&k(s).name),1)]),_:1})])])}}},ee=q;export{ee as H,V as _};
