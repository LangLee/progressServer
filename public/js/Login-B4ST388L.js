import{aj as r,az as f,aB as b,al as x,ao as v,aD as h,aE as y,aH as t,aN as w,aO as m,aP as u,aQ as c}from"./vendor-7SOp03Eo.js";import{l as _}from"./user-DjlSiqBu.js";import{m as d}from"./message-DneuB5hD.js";import{s as k}from"./userInfo-GWa4mCN8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"h-screen flex items-center justify-center"},I={class:"w-80 p-4 flex flex-col bg-transparent"},U={class:"font-sans font-medium lg:font-semibold text-2xl lg:text-3xl leading-10 text-slate-500 mt-2"},j={class:"inline-block"},D=t("span",{class:"blink pl-1 border-r-2 border-slate-500"},null,-1),P={__name:"Login",setup(M){const n=r(""),a=r(""),i=f(),o=r(""),g=()=>{console.log(n.value,a.value,c(a.value)),_({name:n.value,password:c(a.value)}).then(e=>{if(console.log(e),e&&e.data)if(e.data.success){let{token:s,user:l}=e.data.data;s?(localStorage.setItem("me_token",s),k(l),i.push("/home")):e.data.message&&d.error(e.data.message)}else console.log("登录失败"),e.data.message&&d.error(e.data.message);else e.data.message&&d.error("登录失败")})},p=()=>{i.push("register")};return b(()=>{}),x(()=>{}),v(()=>{const e="I Want Progress";let s=!1;setInterval(()=>{o.value=e.substring(0,o.value.length+(s?-1:1)),o.value===""?s=!1:o.value===e&&(s=!0)},300)}),(e,s)=>(h(),y("div",B,[t("div",I,[t("div",U,[t("span",j,w(o.value),1),D]),m(t("input",{class:"px-4 py-2 lg:py-3 my-2 lg:my-3 bg-transparent text-slate-600 lg:text-lg placeholder-slate-300 shadow-sm border rounded-md text-base focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",type:"text","onUpdate:modelValue":s[0]||(s[0]=l=>n.value=l),placeholder:"请输入用户名"},null,512),[[u,n.value]]),m(t("input",{class:"px-4 py-2 my-2 lg:py-3 lg:my-3 bg-transparent text-slate-600 lg:text-lg placeholder-slate-300 shadow-sm border rounded-md text-base focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",type:"password","onUpdate:modelValue":s[1]||(s[1]=l=>a.value=l),placeholder:"请输入密码"},null,512),[[u,a.value]]),t("div",{class:"flex flex-row justify-between my-2 lg:my-3"},[t("button",{class:"w-1/2 py-2 lg:py-3 mr-2 bg-blue-300 lg:text-lg text-white font-semibold rounded-md shadow-md hover:bg-blue-600",onClick:g},"登录"),t("button",{class:"w-1/2 py-2 lg:py-3 ml-2 bg-red-300 lg:text-lg text-white font-semibold rounded-md shadow-md hover:bg-red-600",onClick:p},"注册")])])]))}};export{P as default};
