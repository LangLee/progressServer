import{aj as _,b4 as h,ao as F,aT as I,aD as d,aE as p,aY as g,aQ as w,az as H,aB as U,aC as E,aH as t,aF as i,aR as R,aZ as j,aU as b,aX as k,at as u,aS as D}from"./vendor-CWXOCgin.js";import{R as m}from"./RemixIcon-CgHXNHMg.js";import{a as v,b as L,s as M,u as N}from"./userInfo-BH_HArD6.js";import{d as T,F as V}from"./Fish-twJ8LYmt.js";const $=["src"],A={__name:"Avatar",props:{file:{type:String,default:""},size:{type:String,default:"md",validate:function(s){return["sm","md","lg"].indexOf(s)!==-1}},img:{type:String,default:""},icon:{type:String,default:"user-line"},rounded:{type:Boolean,default:!0}},setup(s){const a=s,l=_(),o=h(()=>{let e="";switch(a.size){case"sm":e="w-6 h-6";break;case"md":e="w-8 h-8";break;case"lg":e="w-10 h-10";break}return a.rounded&&(e+=" rounded-full"),e}),r=h(()=>{switch(a.size){case"sm":return"font-normal text-base";case"md":return"font-medium text-xl";case"lg":return"font-bold text-2xl"}});return F(async()=>{if(a.file){let e=v(a.file);e instanceof Promise?l.value=await e:l.value=e}}),I(()=>a.file,async(e,f)=>{if(e){let n=v(e);n instanceof Promise?l.value=await n:l.value=n}}),(e,f)=>(d(),p("div",{class:g(["inline-block text-center leading-none bg-blue-300",o.value])},[l.value||s.img?(d(),p("img",{key:0,src:l.value||s.img,class:g(["inline-block w-full h-full object-cover",{"rounded-full":s.rounded}])},null,10,$)):(d(),w(m,{key:1,class:g(["text-white",r.value]),name:s.icon},null,8,["name","class"]))],2))}},P={id:"header",class:"sticky h-16 top-0 z-20 w-full max-w-screen-2xl mx-auto backdrop-blur lg:border-b dark:border-b lg:border-slate-900/10 bg-white/90 lg:bg-white/60 dark:border-slate-50/20 dark:bg-transparent flex-none flex lg:shadow-none shadow-lg"},O={class:"hidden lg:flex flex-none pl-4 sm:pl-6 xl:pl-8 items-center border-b border-gray-200 lg:border-b-0 lg:w-60 xl:w-72"},Q=t("span",{class:"text-gray-500 font-medium text-2xl"},"I want progress",-1),X={class:"flex items-center px-2 sm:px-6 lg:mx-6 lg:px-0 xl:mx-8"},Y={class:"flex-auto flex items-center justify-end pr-4 dark:text-slate-50"},Z={class:"text-sm font-bold cursor-pointer"},q={class:"min-w-20 lg:min-w-24 bg-white dark:bg-neutral-800 shadow-xl border border-slate-100 dark:border-slate-50/20 rounded text-center text-slate-500 dark:text-slate-50"},G={class:"px-2 py-1 hover:bg-blue-400 hover:text-slate-50 rounded dark:border-b dark:border-slate-50/20 cursor-pointer"},J={class:"px-2 py-1 hover:bg-blue-400 hover:text-slate-50 rounded cursor-pointer"},K={__name:"Header",props:{hiddenFold:{type:Boolean,default:!1},fold:{type:Boolean,default:!0}},emits:["toggleFold"],setup(s,{emit:a}){const l=()=>document.body,o=N(),r=H(),e=_(localStorage.theme==="dark"),f=a,n=()=>{r.push("/home")},y=()=>{f("toggleFold")},C=()=>{localStorage.removeItem("me_token"),r.push("/login")},B=()=>{r.push("/setting")},S=()=>{e.value?(localStorage.theme="light",document.documentElement.classList.remove("dark")):(localStorage.theme="dark",document.documentElement.classList.add("dark")),e.value=!e.value};return U(()=>{let c=L();c?o.value=c:T().then(x=>{o.value=x,M(x)})}),(c,x)=>{const z=E("tippy");return d(),p("div",P,[t("div",O,[t("div",{class:"flex flex-row items-center text-slate-500 dark:text-slate-300 cursor-pointer",onClick:n},[i(V),Q])]),t("div",X,[s.hiddenFold?R("",!0):(d(),w(m,{key:0,name:s.fold?"menu-fold-line":"menu-unfold-line",class:"lg:hidden py-1 px-2 text-2xl text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",onClick:y},null,8,["name"])),i(m,{name:"home-8-line",class:"lg:hidden py-1 px-2 text-2xl text-blue-500 hover:text-blue-700 dark:text-slate-300 dark:hover:text-slate-50",onClick:n}),j(c.$slots,"default")]),t("div",Y,[i(m,{name:e.value?"moon-fill":"sun-fill",class:"text-2xl cursor-pointer mr-2",onClick:S},null,8,["name"]),i(z,{trigger:"mouseenter click",placement:"bottom-end",offset:[10,0],animation:"scale",interactive:!0,appendTo:l},{content:b(()=>[t("div",q,[t("ul",null,[t("ol",G,[t("a",{onClick:k(B,["stop"])},"我的")]),t("ol",J,[t("a",{onClick:k(C,["stop"])},"退出")])])])]),default:b(()=>[i(A,{class:"cursor-pointer mr-2",size:"sm",file:u(o)&&u(o).avatar},null,8,["file"]),t("span",Z,D(u(o)&&u(o).name),1)]),_:1})])])}}},ae=K;export{ae as H,A as _};
