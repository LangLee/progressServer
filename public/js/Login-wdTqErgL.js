import{ae as r,au as v,aw as x,ag as h,aj as w,ay as y,az as _,aC as a,aI as k,aJ as m,aK as u,aL as c}from"./vendor-1hORrrXR.js";import{l as B}from"./user-CStxEDWN.js";import{m as d}from"./message-ShWl2tYi.js";import{s as I}from"./userInfo-BaXGolSQ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"h-screen flex items-center justify-center"},j={class:"w-80 p-4 flex flex-col bg-transparent"},C={class:"font-sans font-medium lg:font-semibold text-2xl lg:text-3xl leading-10 text-slate-500 mt-2"},L={class:"inline-block"},M=a("span",{class:"blink pl-1 border-r-2 border-slate-500"},null,-1),E={__name:"Login",setup(V){const l=r(""),o=r(""),i=v(),t=r(""),p=()=>{console.log(l.value,o.value,c(o.value)),B({name:l.value,password:c(o.value)}).then(e=>{if(console.log(e),e&&e.data)if(e.data.success){let{token:s,_id:n,name:g,avatar:b}=e.data.data;s?(localStorage.setItem("me_token",s),I({_id:n,name:g,avatar:b}),i.push("/home")):e.data.message&&d.error(e.data.message)}else console.log("登录失败"),e.data.message&&d.error(e.data.message);else e.data.message&&d.error("登录失败")})},f=()=>{i.push("register")};return x(()=>{}),h(()=>{}),w(()=>{const e="I Want Progress";let s=!1;setInterval(()=>{t.value=e.substring(0,t.value.length+(s?-1:1)),t.value===""?s=!1:t.value===e&&(s=!0)},300)}),(e,s)=>(y(),_("div",U,[a("div",j,[a("div",C,[a("span",L,k(t.value),1),M]),m(a("input",{class:"px-4 py-3 my-2 lg:my-3 bg-transparent text-slate-300 placeholder-slate-300 shadow-sm border rounded-md text-base focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",type:"text","onUpdate:modelValue":s[0]||(s[0]=n=>l.value=n),placeholder:"请输入用户名"},null,512),[[u,l.value]]),m(a("input",{class:"px-4 py-3 my-2 lg:my-3 bg-transparent text-slate-300 placeholder-slate-300 shadow-sm border rounded-md text-base focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent",type:"password","onUpdate:modelValue":s[1]||(s[1]=n=>o.value=n),placeholder:"请输入密码"},null,512),[[u,o.value]]),a("div",{class:"flex flex-row justify-between my-2 lg:my-3"},[a("button",{class:"w-1/2 py-3 mr-2 bg-blue-300 text-white font-semibold rounded-md shadow-md hover:bg-blue-600",onClick:p},"登录"),a("button",{class:"w-1/2 py-3 ml-2 bg-red-300 text-white font-semibold rounded-md shadow-md hover:bg-red-600",onClick:f},"注册")])])]))}};export{E as default};
