import{f as ie,E as se,g as de,V as ce,n as ue,N as ge,h as me,m as he,i as ve,u as pe,D as be,j as fe,k as ke,T as xe,l as ye,U as we,L as Ce,o as $e,p as Ae,d as He,q as Re,r as Te,s as Be,t as Se,v as Le,w as _e,x as Ie,y as Oe,z as Me,A as Ve}from"./tiptap-Bkjnv3GL.js";import{aK as je,aL as ze,aW as N,at as ne,az as f,aA as A,aH as O,aO as W,b2 as Q,e as qe,aJ as Ue,aD as l,a_ as M,aZ as We,aE as T,aB as x,aF as X,aj as B,aN as K,a$ as p,aI as Y,ap as le,aG as o,aX as D,b3 as J,bb as Pe,bc as Ee,au as _,ah as Ne,bf as De,ai as Je,bg as Fe,bh as Qe,bi as Ke,bj as Ye,bk as Ze,am as Xe}from"./vendor-DqHIQWU1.js";import{_ as r,d as Ge,e as U,c as et}from"./index-bEem1MK9.js";import{_ as oe,m as tt}from"./message-DsTL7g5X.js";import{g as nt,u as F}from"./file-D7E9LNHg.js";import{u as ae,i as Z,d as lt}from"./utils-DVDKZiQc.js";import{_ as ot}from"./ImageView-B5jy2EQC.js";import{a as at,g as rt}from"./ai-BzmOfZ_l.js";import{F as it}from"./FloatMenu-C_FOx9on.js";import{g as st,_ as dt,c as ct}from"./PromptModal-CoDoiaRN.js";import{O as ut}from"./operation-BrucOqqW.js";import"./remixicon-l0sNRNKZ.js";import"./ProInput-DLzwbHQE.js";/* empty css                                                                 */const gt={class:"flex flex-col justify-between overflow-y-auto sticky max-h-(screen-18) pb-6 text-sm"},mt={key:0,class:"font-semibold text-grey-900 dark:text-gray-300 leading-8 px-1"},ht={key:1,class:"text-gray-600 leading-8 px-2"},vt=["onClick"],pt={__name:"TableOfContent",props:{editor:{type:Object,default:()=>({})},anchors:{type:Array,default:()=>[]}},setup(e){const n=je(),t=ze(),s=e,h=m=>{var d,a,v,w;if(s.editor){const b=((a=(d=s.editor)==null?void 0:d.view)==null?void 0:a.dom)&&((w=(v=s.editor)==null?void 0:v.view)==null?void 0:w.dom.querySelector(`[data-toc-id="${m.id}"`));if(!b)return;s.editor.view.posAtDOM(b,0);const $=s.editor.view.state.tr;$.setSelection(new qe($.doc.resolve(m.pos||0))),s.editor.view.dispatch($),s.editor.view.focus(),n.replace({path:t.path,params:t.params,query:{appId:t.query.appId,anchorId:m.id}}),window.scrollTo({top:b.getBoundingClientRect().top+window.scrollY-64,behavior:"smooth"})}};return N(()=>t.query.anchorId,(m,d)=>{m&&m!==d&&ne(()=>{h({id:m,pos:0})})},{immediate:!0}),(m,d)=>(f(),A("div",gt,[e.anchors&&e.anchors.length>0?(f(),A("p",mt,"目录大纲")):O("",!0),e.anchors&&e.anchors.length>0?(f(),A("ul",ht,[(f(!0),A(W,null,Q(e.anchors,a=>(f(),A("li",{key:"item.id",class:"border-l dark:border-gray-500",style:Ue({paddingLeft:a.level+"rem"})},[l("a",{class:x(["block cursor-pointer",{"text-blue-500 dark:text-blue-400 font-bold":a.isActive,"hover:text-blue-400 dark:hover:text-blue-300":!a.isActive,"text-gray-500 dark:text-gray-500":a.isScrolledOver&&!a.isActive,"text-gray-700 dark:text-gray-400":!a.isScrolledOver&&!a.isActive}]),onClick:X(v=>h(a),["stop"])},[a.level>1?(f(),M(r,{key:0,name:"arrow-right-s-line"})):O("",!0),We(" "+T(a.textContent),1)],10,vt)],4))),128))])):O("",!0)]))}},bt=pt,ft={class:"cursor-pointer"},kt={class:"min-w-36"},xt=["onClick"],S={__name:"Dropdown",props:{title:{type:String,default:""},options:{type:Array,default:()=>[]},placement:{type:String,default:"bottom"},trigger:{type:String,default:"click"},offset:{type:Array,default:()=>[0,10]},selectAndHide:{type:Boolean,default:!0},arrow:{type:Boolean,default:!0}},emits:["select"],setup(e,{emit:n}){const t=B(),s=B(!0),h=e,m=n,d=b=>{m("select",b)},a=()=>(s.value=!1,!0),v=()=>(s.value=!0,!0),w=()=>{var b;if(!h.selectAndHide)return!0;(b=t==null?void 0:t.value)==null||b.hide(),s.value=!0};return(b,$)=>{const k=K("tippy");return f(),M(k,{ref_key:"dropdown",ref:t,trigger:e.trigger,placement:e.placement,offset:e.offset,interactive:!0,onShow:a,onHide:v,arrow:!1},{content:p(()=>[Y(b.$slots,"content",{},()=>[l("div",kt,[(f(!0),A(W,null,Q(e.options,L=>(f(),A("div",{key:L.value,onClick:X(w,["stop"])},[Y(b.$slots,"item",{item:L},()=>[l("div",{class:"h-8 leading-8 px-2 rounded dark:rounded-none mb-1 hover:bg-neutral-100 cursor-pointer text-gray-700 dark:text-gray-200",onClick:H=>d(L)},T(L.label),9,xt)])]))),128))])])]),default:p(()=>[l("div",null,[Y(b.$slots,"title",{},()=>[l("span",ft,T(e.title),1)]),e.arrow?(f(),M(r,{key:0,class:"ml-1 text-gray-700 dark:text-gray-100",name:s.value?"arrow-down-s-line":"arrow-up-s-line"},null,8,["name"])):O("",!0)])]),_:3},8,["trigger","placement","offset"])}}},yt={class:"w-full h-full flex flex-row flex-wrap overflow-y-auto"},wt={__name:"ImageSelectModal",emits:["update:app","confirm","cancel"],setup(e,{emit:n}){const t={title:{type:String,default:"选择图片"},visible:{type:Boolean,default:!1}},s=n,h=B([]),m=B(t.visible),d=B(),a=()=>{s("confirm",d.value),d.value=void 0,m.value=!1},v=()=>{s("cancel"),d.value=void 0,m.value=!1},w=b=>{var k;let{_id:$}=b;d.value=((k=d.value)==null?void 0:k._id)===$?void 0:b};return N(()=>t.visible,()=>{m.value=t.visible}),le(()=>{nt().then(b=>{h.value=b})}),(b,$)=>(f(),M(Ge,{title:b.title,visible:m.value,"onUpdate:visible":$[0]||($[0]=k=>m.value=k),onConfirm:a,onCancel:v},{default:p(()=>[l("div",yt,[(f(!0),A(W,null,Q(h.value,(k,L)=>{var H;return f(),M(ot,{key:k==null?void 0:k._id,selectable:!0,editable:!1,active:((H=d.value)==null?void 0:H._id)===(k==null?void 0:k._id),modelValue:k,onSelect:w},null,8,["active","modelValue"])}),128))])]),_:1},8,["title","visible"]))}},G=e=>(Pe("data-v-707ed27f"),e=e(),Ee(),e),Ct=["editor"],$t=G(()=>l("span",{class:"text-purple-500 dark:text-purple-300"},"Ai Tools",-1)),At=["onClick"],Ht={class:"ml-2"},Rt=["onClick"],Tt={class:"ml-2"},Bt=["onClick"],St={class:"ml-2"},Lt=G(()=>l("div",{class:"my-2 border-l border-gray-300"},null,-1)),_t=["onClick"],It={class:"ml-2"},Ot=["disabled"],Mt=["disabled"],Vt=["disabled"],jt=["disabled"],zt={class:"flex flex-row"},qt={for:"link",class:"mr-2"},Ut=["onClick"],Wt={class:"ml-2"},Pt=["onClick"],Et={class:"ml-2"},Nt=G(()=>l("div",{class:"my-2 border-l border-gray-300"},null,-1)),Dt=["onClick"],Jt={class:"ml-2"},Ft={__name:"FixedMenu",props:{editor:{type:Object,default:null}},emits:["save","import","export","share"],setup(e,{emit:n}){const t=()=>document.body,s=e,h=B(""),m=B(),d=B(!1),a=[{value:"write",label:"Write",icon:"edit-2-line"},{value:"complete",label:"Complete",icon:"check-line"},{value:"simplify",label:"Simplify",icon:"edit-circle-line"},{value:"summarize",label:"Summarize",icon:"more-line"},{value:"correction",label:"Correction",icon:"eraser-line"},{value:"longer",label:"Longer",icon:"expand-right-line"}],v=[{value:"heading1",label:"Heading 1",level:1,icon:"h-1"},{value:"heading2",label:"Heading 2",level:2,icon:"h-2"},{value:"heading3",label:"Heading 3",level:3,icon:"h-3"},{value:"heading4",label:"Heading 4",level:4,icon:"h-4"},{value:"heading5",label:"Heading 5",level:5,icon:"h-5"},{value:"heading6",label:"Heading 6",level:6,icon:"h-6"}],w=[{value:"bulletList",label:"Bullet list",icon:"list-unordered",command:"toggleBulletList"},{value:"orderedList",label:"Ordered list",icon:"list-ordered-2",command:"toggleOrderedList"},{value:"taskList",label:"Task list",icon:"list-check-3",command:"toggleTaskList"}],b=[{value:"paragraph",label:"Paragraph",icon:"paragraph",command:"setParagraph"},{value:"horizontalRule",label:"Horizontal",icon:"separator",command:"setHorizontalRule"},{value:"hardBreak",label:"HardBreak",icon:"text-wrap",command:"setHardBreak"},{value:"blockQuote",label:"BlockQuote",icon:"quote-text",command:"toggleBlockquote"},{value:"code",label:"Code",icon:"code-view",command:"toggleCode"},{value:"code",label:"Code block",icon:"code-block",command:"toggleCodeBlock"}],$=[{value:"markdown",label:"导出markdown",icon:"markdown-line"},{value:"json",label:"导出json",icon:"javascript-line"},{value:"html",label:"导出html",icon:"html5-line"},{value:"image",label:"导出图片",icon:"file-image-line"},{value:"docx",label:"导出word",icon:"file-word-line"}],k=[{value:"left",label:"Align left",icon:"align-left"},{value:"center",label:"Align center",icon:"align-center"},{value:"right",label:"Align right",icon:"align-right"},{value:"justify",label:"Align justify",icon:"align-justify"}],L=[{value:"upload",label:"Upload",icon:"upload-2-line"},{value:"select",label:"Select",icon:"file-check-line"}],H=()=>{let y=s.editor.getAttributes("link").href;return h.value=y,!0},c=()=>!0,I=()=>{var g;let y=h.value;y?s.editor.chain().focus().extendMarkRange("link").setLink({href:y}).run():s.editor.chain().focus().extendMarkRange("link").unsetLink().run(),h.value="",(g=m==null?void 0:m.value)==null||g.hide()},i=y=>{var ee,te;let g="";switch(y){case"simplify":g="将以下文本简化为更易懂的表达方式，尽量使用简单的词汇和短句，同时保持原意不变。";break;case"translate":g="将以下文本从[源语言]翻译成[目标语言]。";break;case"summarize":g="阅读以下文章，并提供一个简短的摘要。";break;case"correction":g="检查这段文本中的语法和拼写错误，并进行修正。";break;case"longer":g="使用更多的细节或例证来扩写这段文本。";break;case"complete":g="根据以下提示或关键词，生成一段新的文本。";break}let{doc:V,selection:u,tr:z}=((te=(ee=s.editor)==null?void 0:ee.view)==null?void 0:te.state)||{},{from:P,to:E}=u||{},re=V.textBetween(P,E,`
`);s.editor.chain().focus().setAiWrite({question:re,prompt:g}).run()},C=y=>{switch(y){case"upload":q();break;case"select":d.value=!0;break}},R=y=>{if(y&&y.name){const g=`${U}/file/preview?file=${y.name}`;s.editor.chain().focus().setImage({src:g}).run()}d.value=!1},j=()=>{d.value=!1},q=()=>{ae({accept:"image/*",multiple:!1,uploader:F}).then(y=>{let{data:g}=y,V=`${U}/file/preview?file=${g}`;s.editor.chain().focus().setImage({src:V}).run()})};return(y,g)=>{const V=K("tippy");return e.editor?(f(),A("div",{key:0,editor:e.editor,class:"fixedMenu flex flex-wrap p-2 bg-neutral-50 dark:bg-neutral-700 text-gray-700 dark:text-gray-100"},[o(S,{class:"px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",options:a},{title:p(()=>[o(r,{class:"mr-1 text-purple-500 dark:text-purple-300",name:"robot-2-line"}),$t]),item:p(({item:u})=>[l("div",{class:x(["h-8 leading-8 px-2 rounded mb-1 hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer text-gray-700 dark:text-gray-200",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("heading",{level:u.level})}]),onClick:z=>i(u.value)},[o(r,{name:u.icon},null,8,["name"]),l("span",Ht,T(u.label),1)],10,At)]),_:1}),o(S,{class:"px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",options:v},{title:p(()=>[o(r,{name:"heading"})]),item:p(({item:u})=>[l("div",{class:x(["h-8 leading-8 px-2 rounded mb-1 hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer text-gray-700 dark:text-gray-200",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("heading",{level:u.level})}]),onClick:z=>e.editor.chain().focus().toggleHeading({level:u.level}).run()},[o(r,{name:u.icon},null,8,["name"]),l("span",Tt,T(u.label),1)],10,Rt)]),_:1}),o(S,{class:"px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",options:w},{title:p(()=>[o(r,{name:"list-unordered"})]),item:p(({item:u})=>[l("div",{class:x(["h-8 leading-8 px-2 rounded mb-1 hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer text-gray-700 dark:text-gray-200",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive(u.value)}]),onClick:z=>e.editor.chain().focus()[u.command]().run()},[o(r,{name:u.icon},null,8,["name"]),l("span",St,T(u.label),1)],10,Bt)]),_:1}),Lt,o(S,{class:"mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",options:k},{title:p(()=>[o(r,{name:"align-left"})]),item:p(({item:u})=>[l("div",{class:x(["h-8 leading-8 px-2 rounded mb-1 hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer text-gray-700 dark:text-gray-200",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive({textAlign:u.value})}]),onClick:z=>e.editor.chain().focus().setTextAlign(u.value).run()},[o(r,{name:u.icon},null,8,["name"]),l("span",It,T(u.label),1)],10,_t)]),_:1}),l("div",{class:x(["px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("bold")}]),onClick:g[0]||(g[0]=u=>e.editor.chain().focus().toggleBold().run()),disabled:!e.editor.can().chain().focus().toggleBold().run()},[o(r,{name:"bold"})],10,Ot),l("div",{class:x(["px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("italic")}]),onClick:g[1]||(g[1]=u=>e.editor.chain().focus().toggleItalic().run()),disabled:!e.editor.can().chain().focus().toggleItalic().run()},[o(r,{name:"italic"})],10,Mt),l("div",{class:x(["px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("underline")}]),onClick:g[2]||(g[2]=u=>e.editor.chain().focus().toggleUnderline().run()),disabled:!e.editor.can().chain().focus().toggleUnderline().run()},[o(r,{name:"underline"})],10,Vt),l("div",{class:x(["px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("strike")}]),onClick:g[3]||(g[3]=u=>e.editor.chain().focus().toggleStrike().run()),disabled:!e.editor.can().chain().focus().toggleStrike().run()},[o(r,{name:"strikethrough"})],10,jt),o(V,{ref_key:"linkDropdown",ref:m,trigger:"click",placement:"bottom",offset:[0,10],animation:"scale",interactive:!0,appendTo:t,onShow:H,onHide:c,maxWidth:"none"},{content:p(()=>[l("div",zt,[l("label",qt,[D(l("input",{type:"text",id:"link","onUpdate:modelValue":g[4]||(g[4]=u=>h.value=u),class:"p-2 rounded-lg",placeholder:"https://"},null,512),[[J,h.value]])]),l("button",{class:"w-full px-2 my-1 rounded-lg bg-purple-500 text-white",onClick:I},"set")])]),default:p(()=>[l("div",{class:x(["px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("link")}])},[o(r,{name:"link"})],2)]),_:1},512),o(S,{class:"px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",options:b},{title:p(()=>[o(r,{name:"paragraph"})]),item:p(({item:u})=>[l("div",{class:"h-8 leading-8 px-2 rounded mb-1 hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer text-gray-700 dark:text-gray-200",onClick:z=>e.editor.chain().focus()[u.command]().run()},[o(r,{name:u.icon},null,8,["name"]),l("span",Wt,T(u.label),1)],8,Ut)]),_:1}),o(S,{class:"px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",options:L},{title:p(()=>[o(r,{name:"image-add-line"})]),item:p(({item:u})=>[l("div",{class:"h-8 leading-8 px-2 rounded mb-1 hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer text-gray-700 dark:text-gray-200",onClick:z=>C(u.value)},[o(r,{name:u.icon},null,8,["name"]),l("span",Et,T(u.label),1)],8,Pt)]),_:1}),Nt,l("div",{class:"px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",onClick:g[5]||(g[5]=u=>e.editor.chain().save())},[o(r,{name:"save-line"})]),l("div",{class:"px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",onClick:g[6]||(g[6]=u=>e.editor.chain().share())},[o(r,{name:"share-line"})]),l("div",{class:"px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",onClick:g[7]||(g[7]=u=>e.editor.chain().import())},[o(r,{name:"import-line"})]),o(S,{class:"px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",options:$,arrow:!1},{title:p(()=>[o(r,{name:"export-line"})]),item:p(({item:u})=>[l("div",{class:"h-8 leading-8 px-2 rounded mb-1 hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer text-gray-700 dark:text-gray-200",onClick:z=>{var P,E;return(E=(P=e.editor)==null?void 0:P.commands)==null?void 0:E.export(u.value)}},[o(r,{name:u.icon},null,8,["name"]),l("span",Jt,T(u.label),1)],8,Dt)]),_:1}),o(wt,{visible:d.value,onConfirm:R,onCancel:j},null,8,["visible"])],8,Ct)):O("",!0)}}},Qt=oe(Ft,[["__scopeId","data-v-707ed27f"]]),Kt=l("span",{class:"text-purple-500 dark:text-purple-300"},"Ai Tools",-1),Yt=["onClick"],Zt={class:"ml-2"},Xt=["onClick"],Gt={class:"ml-2"},en=["onClick"],tn={class:"ml-2"},nn=l("div",{class:"my-2 border-l border-gray-300"},null,-1),ln=["onClick"],on={class:"ml-2"},an=["disabled"],rn=["disabled"],sn=["disabled"],dn=["disabled"],cn={class:"flex flex-row"},un={for:"link",class:"mr-2"},gn=["disabled"],mn={__name:"BubbleMenu",props:{editor:{type:Object,default:null}},setup(e){const n=()=>document.body,t=e,s=B(""),h=B(),m=[{value:"complete",label:"Complete",icon:"edit-2-line",command:"aiWrite"},{value:"simplify",label:"Simplify",icon:"edit-circle-line",command:"aiSimplify"},{value:"summarize",label:"Summarize",icon:"more-line",command:"aiTldr"},{value:"correction",label:"Correction",icon:"eraser-line",command:"aiFixSpellingAndGrammar"},{value:"longer",label:"Longer",icon:"expand-right-line",command:"aiExtend"}],d=[{value:"heading1",label:"Heading 1",level:1,icon:"h-1"},{value:"heading2",label:"Heading 2",level:2,icon:"h-2"},{value:"heading3",label:"Heading 3",level:3,icon:"h-3"},{value:"heading4",label:"Heading 4",level:4,icon:"h-4"},{value:"heading5",label:"Heading 5",level:5,icon:"h-5"},{value:"heading6",label:"Heading 6",level:6,icon:"h-6"}],a=[{value:"bulletList",label:"Bullet list",icon:"list-unordered",command:"toggleBulletList"},{value:"orderedList",label:"Ordered list",icon:"list-ordered-2",command:"toggleOrderedList"},{value:"taskList",label:"Task list",icon:"list-check-3",command:"toggleTaskList"}],v=[{value:"left",label:"Align left",icon:"align-left"},{value:"center",label:"Align center",icon:"align-center"},{value:"right",label:"Align right",icon:"align-right"},{value:"justify",label:"Align justify",icon:"align-justify"}],w=()=>{let H=t.editor.getAttributes("link").href;return s.value=H,!0},b=()=>!0,$=()=>{var c;let H=s.value;H?t.editor.chain().focus().extendMarkRange("link").setLink({href:H}).run():t.editor.chain().focus().extendMarkRange("link").unsetLink().run(),s.value="",(c=h==null?void 0:h.value)==null||c.hide()},k=()=>{var q,y;let{doc:H,selection:c}=((y=(q=t.editor)==null?void 0:q.view)==null?void 0:y.state)||{},{from:I,to:i}=c||{},C=H.textBetween(c.from,c.to,`
`);(I===i||!C)&&tt.warning("请选择要翻译的文本！");const j=new RegExp(/^[a-zA-Z/s]*$/).test(C);at({query:C,from:j?"en":"zh-CHS",to:j?"zh-CHS":"en"}).then(g=>{let V=g.translation;V!==C&&t.editor.commands.insertContentAt(i,`<em>[翻译：${V}]</em>`)})},L=H=>{var y,g;let c="";switch(H){case"simplify":c="将以下文本简化为更易懂的表达方式，尽量使用简单的词汇和短句，同时保持原意不变。";break;case"translate":c="将以下文本从[源语言]翻译成[目标语言]。";break;case"summarize":c="阅读以下文章，并提供一个简短的摘要。";break;case"correction":c="检查这段文本中的语法和拼写错误，并进行修正。";break;case"longer":c="使用更多的细节或例证来扩写这段文本。";break;case"complete":c="根据以下提示或关键词，生成一段新的文本。";break}let{doc:I,selection:i,tr:C}=((g=(y=t.editor)==null?void 0:y.view)==null?void 0:g.state)||{},{from:R,to:j}=i||{},q=I.textBetween(R,j,`
`);t.editor.chain().focus().setAiWrite({question:q,prompt:c}).run()};return(H,c)=>{const I=K("tippy");return e.editor?(f(),M(_(ie),{key:0,editor:e.editor,class:"flex flex-wrap text-gray-700 dark:text-gray-100",tippyOptions:{maxWidth:"none",theme:"light",arrow:!1}},{default:p(()=>[o(S,{class:"mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",options:m},{title:p(()=>[o(r,{class:"mr-1 text-purple-500 dark:text-purple-300",name:"robot-2-line"}),Kt]),item:p(({item:i})=>[l("div",{class:x(["h-8 leading-8 px-2 rounded mb-1 hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer text-gray-700 dark:text-gray-200",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("heading",{level:i.level})}]),onClick:C=>L(i.value)},[o(r,{name:i.icon},null,8,["name"]),l("span",Zt,T(i.label),1)],10,Yt)]),_:1}),o(S,{class:"mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",options:d},{title:p(()=>[o(r,{name:"heading"})]),item:p(({item:i})=>[l("div",{class:x(["h-8 leading-8 px-2 rounded mb-1 hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer text-gray-700 dark:text-gray-200",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("heading",{level:i.level})}]),onClick:C=>e.editor.chain().focus().toggleHeading({level:i.level}).run()},[o(r,{name:i.icon},null,8,["name"]),l("span",Gt,T(i.label),1)],10,Xt)]),_:1}),o(S,{class:"mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",options:a},{title:p(()=>[o(r,{name:"menu-line"})]),item:p(({item:i})=>[l("div",{class:x(["h-8 leading-8 px-2 rounded mb-1 hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer text-gray-700 dark:text-gray-200",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive(i.value)}]),onClick:C=>e.editor.chain().focus()[i.command]().run()},[o(r,{name:i.icon},null,8,["name"]),l("span",tn,T(i.label),1)],10,en)]),_:1}),nn,o(S,{class:"mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",options:v},{title:p(()=>[o(r,{name:"align-left"})]),item:p(({item:i})=>[l("div",{class:x(["h-8 leading-8 px-2 rounded mb-1 hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer text-gray-700 dark:text-gray-200",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive({textAlign:i.value})}]),onClick:C=>e.editor.chain().focus().setTextAlign(i.value).run()},[o(r,{name:i.icon},null,8,["name"]),l("span",on,T(i.label),1)],10,ln)]),_:1}),l("div",{class:x(["mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("bold")}]),onClick:c[0]||(c[0]=i=>e.editor.chain().focus().toggleBold().run()),disabled:!e.editor.can().chain().focus().toggleBold().run()},[o(r,{name:"bold"})],10,an),l("div",{class:x(["mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("italic")}]),onClick:c[1]||(c[1]=i=>e.editor.chain().focus().toggleItalic().run()),disabled:!e.editor.can().chain().focus().toggleItalic().run()},[o(r,{name:"italic"})],10,rn),l("div",{class:x(["mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("underline")}]),onClick:c[2]||(c[2]=i=>e.editor.chain().focus().toggleUnderline().run()),disabled:!e.editor.can().chain().focus().toggleUnderline().run()},[o(r,{name:"underline"})],10,sn),l("div",{class:x(["mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("strike")}]),onClick:c[3]||(c[3]=i=>e.editor.chain().focus().toggleStrike().run()),disabled:!e.editor.can().chain().focus().toggleStrike().run()},[o(r,{name:"strikethrough"})],10,dn),o(I,{ref_key:"linkDropdown",ref:h,trigger:"click",placement:"bottom",offset:[0,10],animation:"scale",interactive:!0,appendTo:n,onShow:w,onHide:b,maxWidth:"none"},{content:p(()=>[l("div",cn,[l("label",un,[D(l("input",{type:"text",id:"link","onUpdate:modelValue":c[4]||(c[4]=i=>s.value=i),class:"p-2 rounded-lg",placeholder:"https://"},null,512),[[J,s.value]])]),l("button",{class:"w-full px-2 my-1 rounded-lg bg-purple-500 text-white",onClick:$},"set")])]),default:p(()=>[l("div",{class:x(["mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("link")}])},[o(r,{name:"link"})],2)]),_:1},512),l("div",{class:x(["mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("paragraph")}]),onClick:c[5]||(c[5]=i=>e.editor.chain().focus().setParagraph().run())},[o(r,{name:"paragraph"})],2),l("div",{class:x(["mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("code")}]),onClick:c[6]||(c[6]=i=>e.editor.chain().focus().toggleCode().run()),disabled:!e.editor.can().chain().focus().toggleCode().run()},[o(r,{name:"code-view"})],10,gn),l("div",{class:x(["mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",{"bg-neutral-200 dark:bg-neutral-600":e.editor.isActive("codeBlock")}]),onClick:c[7]||(c[7]=i=>e.editor.chain().focus().toggleCodeBlock().run())},[o(r,{name:"code-block"})],2),l("div",{class:"mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",onClick:c[8]||(c[8]=i=>e.editor.chain().focus().toggleBlockquote().run())},[o(r,{name:"quote-text"})]),l("div",{class:"mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",onClick:c[9]||(c[9]=i=>e.editor.chain().focus().setHorizontalRule().run())},[o(r,{name:"separator"})]),l("div",{class:"mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",onClick:c[10]||(c[10]=i=>e.editor.chain().focus().setHardBreak().run())},[o(r,{name:"text-wrap"})]),l("div",{class:"mx-1 px-2 py-1 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-500 cursor-pointer",onMousedown:k},[o(r,{name:"translate"})],32)]),_:1},8,["editor"])):O("",!0)}}},hn=mn,vn=se.create({name:"commands",addOptions(){return{suggestion:{char:"/",command:({editor:e,range:n,props:t})=>{t.command({editor:e,range:n})}}}},addProseMirrorPlugins(){return[de({editor:this.editor,...this.options.suggestion})]}}),pn={components:{RemixIcon:r},props:{items:{type:Array,required:!0},command:{type:Function,required:!0}},data(){return{selectedIndex:0}},watch:{items(){this.selectedIndex=0}},methods:{onKeyDown({event:e}){return e.stopPropagation(),e.key==="ArrowUp"?(this.upHandler(),!0):e.key==="ArrowDown"?(this.downHandler(),!0):e.key==="Enter"?(this.enterHandler(),!0):!1},upHandler(){this.selectedIndex=(this.selectedIndex+this.items.length-1)%this.items.length},downHandler(){this.selectedIndex=(this.selectedIndex+1)%this.items.length},enterHandler(){this.selectItem(this.selectedIndex)},selectItem(e){const n=this.items[e];n&&this.command(n)}}},bn={class:"relative overflow-hidden min-w-56"},fn=["onClick"],kn={class:"ml-2"},xn={key:1,class:"block px-2 w-full text-left"};function yn(e,n,t,s,h,m){const d=K("RemixIcon");return f(),A("div",bn,[t.items.length?(f(!0),A(W,{key:0},Q(t.items,(a,v)=>(f(),A("div",{key:v,class:x(["h-8 leading-8 px-2 rounded mb-1 hover:bg-neutral-100 dark:hover:bg-neutral-600 cursor-pointer text-gray-700 dark:text-gray-200",{"bg-neutral-200 dark:bg-neutral-500":v===h.selectedIndex}]),onClick:w=>m.selectItem(v)},[o(d,{name:a.icon},null,8,["name"]),l("span",kn,T(a.title),1)],10,fn))),128)):(f(),A("div",xn," No result "))])}const wn=oe(pn,[["render",yn]]),Cn={items:({query:e})=>[{title:"Ai Write",key:"aiWrite",icon:"ai-generate",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).setAiWrite().run()}},{title:"Heading 1",key:"H1",icon:"h-1",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleHeading({level:1}).run()}},{title:"Heading 2",key:"H2",icon:"h-2",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleHeading({level:2}).run()}},{title:"Heading 3",key:"H3",icon:"h-3",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleHeading({level:3}).run()}},{title:"Bold",key:"bold",icon:"bold",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleBold().run()}},{title:"Italic",key:"italic",icon:"italic",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleItalic().run()}},{title:"Underline",key:"underline",icon:"underline",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleUnderline().run()}},{title:"Strikethrough",key:"strike",icon:"strikethrough",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleStrike().run()}},{title:"Heading 4",key:"H4",icon:"h-4",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleHeading({level:4}).run()}},{title:"Heading 5",key:"H5",icon:"h-5",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleHeading({level:5}).run()}},{title:"Heading 6",key:"H6",icon:"h-6",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleHeading({level:6}).run()}},{title:"Paragraph",key:"paragraph",icon:"paragraph",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleParagraph().run()}},{title:"Highlight",key:"highlight",icon:"highlight",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleHighlight().run()}},{title:"Bullet List",key:"bulletList",icon:"list-unordered",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleBulletList().run()}},{title:"Ordered List",key:"orderedList",icon:"list-ordered-2",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleOrderedList().run()}},{title:"Code Line",key:"code",icon:"code-view",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleCode().run()}},{title:"Code Block",key:"codeBlock",icon:"code-block",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleCodeBlock().run()}},{title:"Blockquote",key:"blockquote",icon:"quote-text",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleBlockquote().run()}},{title:"Horizontal",key:"horizontal",icon:"separator",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).setHorizontalRule().run()}},{title:"Hard Break",key:"hardBreak",icon:"text-wrap",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).setHardBreak().run()}},{title:"Task List",key:"task",icon:"list-check-3",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).toggleTaskList().run()}},{title:"Table",key:"insertTable",icon:"table-2",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).insertTable({rows:3,cols:3,withHeaderRow:!1}).run()}},{title:"Column Before",key:"addTableColumnBefore",icon:"insert-column-left",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).addColumnBefore().run()}},{title:"Column After",key:"addTableColumnAfter",icon:"insert-column-right",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).addColumnAfter().run()}},{title:"Delete Column",key:"deleteTableColumn",icon:"delete-column",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).deleteColumn().run()}},{title:"Row Before",key:"addTableRowBefore",icon:"insert-row-top",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).addRowBefore().run()}},{title:"Row After",key:"addTableRowAfter",icon:"insert-row-bottom",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).addRowAfter().run()}},{title:"Delete Row",key:"deleteTableRow",icon:"delete-row",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).deleteRow().run()}},{title:"Delete Table",key:"deleteTable",icon:"delete-bin-4-line",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).deleteTable().run()}},{title:"Delete Node",key:"deleteNode",icon:"delete-bin-2-line",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).deleteNode().run()}},{title:"Clear Marks",key:"clearMarks",icon:"eraser-line",command:({editor:n,range:t})=>{n.chain().focus().deleteRange(t).unsetAllMarks().run()}},{title:"Upload Image",key:"uploadImage",icon:"image-add-line",command:({editor:n,range:t})=>{ae({accept:"image/*",multiple:!1,uploader:F}).then(s=>{let{data:h}=s,m=`${U}/file/preview?file=${h}`;n.chain().focus().deleteRange(t).setImage({src:m}).run()})}}].filter(n=>n.title.toLowerCase().includes(e.toLowerCase())||n.key.toLowerCase().includes(e.toLowerCase())).slice(0,8),render:()=>{let e,n;return{onStart:t=>{e=new ce(wn,{props:t,editor:t.editor}),t.clientRect&&(n=Ne("body",{getReferenceClientRect:t.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start",theme:"light",arrow:!1}))},onUpdate(t){e.updateProps(t),t.clientRect&&n[0].setProps({getReferenceClientRect:t.clientRect})},onKeyDown(t){var s;return t.event.key==="Escape"?(n[0].hide(),!0):(s=e==null?void 0:e.ref)==null?void 0:s.onKeyDown(t)},onExit(){n[0].destroy(),e.destroy()}}}},$n={class:"flex flex-col bg-gray-100 m-1 p-4 rounded-md"},An={key:0,class:"w-full mt-1"},Hn=l("div",{class:"text-gray-600 mb-2 px-1 text-sm"},"Preview",-1),Rn=["innerHTML"],Tn={class:"mt-1",for:"prompt"},Bn={class:"text-gray-600 mb-2 px-1 flex items-center text-sm"},Sn=l("span",{class:"mr-2"},"Prompt",-1),Ln=l("span",null,"创建提词",-1),_n=["onClick"],In={class:"mt-1",for:"question"},On=l("div",{class:"text-gray-600 mb-2 px-1 text-sm"},"Question",-1),Mn={class:"flex flex-row"},Vn=l("span",null,"insert",-1),jn=l("span",null,"discard",-1),zn={class:"flex-1 flex justify-end"},qn=["disabled"],Un={class:"ml-2"},Wn={__name:"AiWriteView",props:ue,setup(e){var I;const n=e,t=(I=n==null?void 0:n.node)==null?void 0:I.attrs,s=B((t==null?void 0:t.question)||""),h=B((t==null?void 0:t.prompt)||""),m=B(""),d=B(!1),a=B([]),v=B(),w=()=>{if(!s.value)return;let i="";d.value=!0,rt({question:s.value,prompt:h.value,autoSave:!1},C=>{i+=C,m.value=De(i),ne(()=>{const R=document.getElementById("response");R&&R.scrollTo({top:R.scrollHeight,behavior:"smooth"})})},()=>{i="",d.value=!1})},b=()=>{n.editor.commands.insertContent(m.value)},$=()=>{n.deleteNode()},k=()=>{v.value={name:"",content:h.value||""}},L=()=>{ct(v.value).then(i=>{a.value.push(i),H()})},H=()=>{v.value=void 0},c=i=>{h.value=i.content};return le(()=>{s.value&&w(),st().then(i=>{a.value=i})}),(i,C)=>(f(),M(_(ge),null,{default:p(()=>[l("div",$n,[m.value?(f(),A("div",An,[Hn,l("span",{id:"response",class:"inline-block w-full max-w-full max-h-80 bg-white p-2 border border-slate-300/20 rounded-md prose dark:prose-invert tiptap overflow-y-auto",innerHTML:m.value},null,8,Rn)])):O("",!0),l("label",Tn,[l("div",Bn,[Sn,l("button",{class:"text-white bg-slate-400 hover:bg-slate-500 rounded-lg px-1 mr-2",onClick:X(k,["stop"])},[o(r,{class:"mr-1",name:"add-line"}),Ln]),o(S,{title:"选择提词",options:a.value,onSelect:c},{item:p(({item:R})=>[l("div",{class:"h-8 leading-8 px-2 rounded mb-1 hover:bg-gray-100 cursor-pointer text-gray-500",onClick:j=>c(R)},T(R.name),9,_n)]),_:1},8,["options"])]),D(l("textarea",{id:"prompt",name:"prompt",class:"px-2 rounded-md w-full border border-slate-300/20 focus:outline-none focus:ring-none",rows:"2","onUpdate:modelValue":C[0]||(C[0]=R=>h.value=R)},null,512),[[J,h.value]])]),l("label",In,[On,D(l("textarea",{id:"question",name:"question",class:"px-2 rounded-md w-full border border-slate-300/20 font-medium focus:outline-none focus:ring-none",rows:"3","onUpdate:modelValue":C[1]||(C[1]=R=>s.value=R)},null,512),[[J,s.value]])]),l("div",Mn,[l("div",null,[m.value?(f(),A("button",{key:0,class:"bg-slate-500 hover:bg-slate-700 text-white py-1 px-2 rounded-md mr-2",onClick:b},[o(r,{class:"mr-2",name:"add-fill"}),Vn])):O("",!0),l("button",{class:"bg-slate-500 hover:bg-slate-700 text-white py-1 px-2 rounded-md",onClick:$},[o(r,{class:"mr-2",name:"delete-bin-line"}),jn])]),l("div",zn,[l("button",{class:"bg-purple-500 hover:bg-purple-700 text-white py-1 px-2 rounded-md justify-self-end",onClick:w,disabled:d.value},[d.value?(f(),M(r,{key:0,class:"inline-block animate-spin duration-300",name:"loader-3-fill"})):(f(),M(r,{key:1,name:"send-plane-fill"})),l("span",Un,T(d.value?"process":"generate"),1)],8,qn)])]),o(dt,{visible:!!v.value,prompt:v.value,"onUpdate:prompt":C[2]||(C[2]=R=>v.value=R),onConfirm:L,onCancel:H},null,8,["visible","prompt"])])]),_:1}))}},Pn=Wn,En=me.create({name:"aiWrite",group:"block",atom:!0,addAttributes(){return{prompt:{default:""},question:{default:""}}},parseHTML(){return[{tag:'div[data-type="aiWrite"]'}]},renderHTML({HTMLAttributes:e}){return["div",he(e,{"data-type":"aiWrite"})]},addNodeView(){return ve(Pn)},addCommands(){return{setAiWrite:e=>({commands:n})=>n.insertContent({type:this.name,attrs:e})}}}),Nn={id:"tableOfContent",class:"fixed z-20 top-16 bottom-0 right-[max(0rem,calc(50%-48rem))] py-10 overflow-y-auto hidden xl:text-sm xl:block flex-none w-80 px-8"},Dn={key:0},Jn={key:0,class:"fixed top-28 right-[max(1rem,calc(50%-48rem))] z-40"},Fn={key:1,class:"fixed bottom-0 left-0 z-40"},sl=Je({__name:"Markdown",props:{modelValue:String,editable:{type:Boolean,default:!0},anchors:Array},emits:["update:modelValue","update:anchors","save","import","export","share"],setup(e,{emit:n}){const t=Fe();t.register({html:Qe,css:Ke,js:Ye,ts:Ze});const s=e,h=n,m=lt(a=>{h("update:modelValue",a.getHTML()),et(!0)},300),d=pe({editable:s.editable,content:s.modelValue,editorProps:{attributes:{class:"prose dark:prose-invert w-full max-w-full focus:outline-none"}},extensions:[be,fe.configure({document:!1}),ke,xe,ye.configure({types:["heading","paragraph"]}),we,Ce.configure({openOnClick:!1,defaultProtocol:"https"}),$e,Ae.configure({nested:!0}),He.configure({lowlight:t}),Re.configure({onUpdate:a=>{h("update:anchors",a)}}),Te.configure({emptyEditorClass:"is-editor-empty",placeholder:()=>"输入 / 查看操作"}),Be.configure({inline:!0,allowBase64:!0}),Se.configure({allowedMimeTypes:["image/png","image/jpeg","image/gif","image/webp"],onDrop:(a,v,w)=>{v.forEach(b=>{F(b).then($=>{const k=`${U}/file/preview?file=${$}`;a.chain().insertContentAt(w,{type:"image",attrs:{src:k}}).focus().run()})})},onPaste:(a,v,w)=>{v.forEach(b=>{if(w)return console.log(w),!1;F(b).then($=>{const k=`${U}/file/preview?file=${$}`;a.chain().insertContentAt(a.state.selection.anchor,{type:"image",attrs:{src:k}}).focus().run()})})}}),vn.configure({suggestion:Cn}),Le.configure({resizable:!0}),_e,Ie,Oe,En,Me.configure({appId:"jkv2yemx",token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE3MjU4NjI4MTgsIm5iZiI6MTcyNTg2MjgxOCwiZXhwIjoxNzI1OTQ5MjE4LCJpc3MiOiJodHRwczovL2Nsb3VkLnRpcHRhcC5kZXYiLCJhdWQiOiJqa3YyeWVteCJ9.ITcOVS7VcEUkEOuMWj6nR5lV9wcVtZe8T6l3BsqCuYA"}),ut.configure({onSave:()=>{h("save")},onExport:(a,v)=>{h("export",a,v)},onShare:()=>{h("share")}})],onUpdate:({editor:a})=>{m(a)}});return N(()=>s.modelValue,(a,v)=>{a===v||d.value&&d.value.getHTML()===a||d.value&&d.value.commands.setContent(a||"",!0)}),N(()=>s.editable,(a,v)=>{a!==v&&(d.value&&d.value.setEditable(a,!1),a&&d.value&&d.value.commands.focus())}),Xe(()=>{d.value&&d.value.destroy()}),(a,v)=>(f(),A(W,null,[l("div",{id:"editorWrapper",class:x(["min-w-0 flex-auto px-4 sm:px-6 xl:px-8 py-10 xl:mr-80",{"mb-16":_(Z)()&&e.editable}])},[_(Z)()?O("",!0):(f(),M(hn,{key:0,editor:_(d)},null,8,["editor"])),o(_(Ve),{class:"h-full",editor:_(d)},null,8,["editor"])],2),l("div",Nn,[o(bt,{editor:_(d),anchors:e.anchors},null,8,["editor","anchors"])]),e.editable?(f(),A("div",Dn,[_(Z)()?(f(),A("div",Fn,[o(Qt,{editor:_(d)},null,8,["editor"])])):(f(),A("div",Jn,[o(it,{editor:_(d)},null,8,["editor"])]))])):O("",!0)],64))}});export{sl as default};
