import{ae as n,ak as A,ay as i,az as c,aC as t,aA as r,aP as p,aU as m,aS as v,aI as B,aJ as E,aR as S,aM as $,aB as D}from"./vendor-BSAPUjJi.js";import{_ as u}from"./RemixIcon-Cb0msOyL.js";import{a as U}from"./ai-B9sis56A.js";import{g as z,c as H}from"./word-BfASnCfI.js";import{m as f}from"./message-CIMfOfme.js";import{H as M}from"./Header-DxcrElIQ.js";import{L as N}from"./Loading-0byxj1Jj.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./userInfo-Dj_dDAEm.js";import"./user-DPFXhvfg.js";import"./index-DVZ6Nk77.js";const P={class:"flex flex-col h-screen w-full justify-center items-center text-slate-700"},V={class:"flex-1 w-full p-2 lg:p-4 overflow-y-auto"},q={key:0,class:"rounded-lg shadow-lg p-4 lg:p-8 mb-4 lg:mb-8"},I=t("div",{class:"font-bold text-normal lg:text-lg py-2"},[t("span",{class:"bg-blue-600 text-slate-50 rounded-xl px-2 py-1"},"每日一句")],-1),K={class:"text-normal lg:text-lg p-2"},L={class:"text-normal lg:text-lg p-2"},R={key:1,class:"rounded shadow-lg p-4 lg:p-8 mb-4 lg:mb-8"},W={class:"font-bold text-lg lg:text-xl text-blue-700 py-1"},j={class:"text-lg text-slate-300"},F={key:2,class:"rounded shadow-lg p-4 lg:p-8 mb-4 lg:mb-8"},J={class:"font-bold text-lg lg:text-xl text-blue-700"},Q={class:"text-lg text-slate-300"},Y=["src"],Z={class:"relative h-24 lg:h-28 w-full text-lg px-2 lg:px-4 mb-4 lg:mb-8"},G=["onKeyup"],O=t("span",{class:"mr-1"},"发送",-1),me={__name:"Translation",setup(X){const w=s=>{var e=document.createElement("textarea");e.value=s,document.body.appendChild(e),e.focus(),e.select();try{var o=document.execCommand("copy"),x=o?"成功拷贝!":"拷贝失败!";console.log(x)}catch(y){console.error("拷贝到剪贴板失败:",y)}document.body.removeChild(e)},l=n("");n("");const h=n(""),a=n(""),g=n(!1);n("");const d=n(),b=()=>{a.value&&(navigator.clipboard||(navigator.clipboard={writeText:w}),navigator.clipboard.writeText(a.value),f.success("复制成功！"))},k=()=>{H({code:a.value,english:a.value,chinese:l.value,newWord:!0}).catch(s=>{f.error(s)})},_=()=>{l.value||f.warning("请输入要翻译的文本！"),l.value=l.value.replace(/[\r\n]/g,"");const e=new RegExp(/^[A-Za-z\s]*$/).test(l.value);g.value=!0,U({query:l.value,from:e?"en":"zh-CHS",to:e?"zh-CHS":"en"}).then(o=>{let{translation:x,speakUrl:y,tSpeakUrl:T,dict:ee,tDict:te}=o||{};a.value=x,h.value=T,g.value=!1})},C=s=>{let e=null;e=document.getElementById("responseAudioPlayer"),e.paused?e.play():e.pause()};return A(()=>{z().then(s=>{d.value=s})}),(s,e)=>(i(),c(D,null,[t("div",P,[r(M),t("div",V,[d.value?(i(),c("div",q,[I,t("div",K,p(d.value.chinese||""),1),t("div",L,p(d.value.english||""),1)])):m("",!0),l.value?(i(),c("div",R,[t("div",W,p(l.value),1),t("span",j,[r(u,{class:"hover:text-blue-400",name:"clipboard-line",onClick:e[0]||(e[0]=v(o=>b(l.value),["stop"]))})])])):m("",!0),a.value?(i(),c("div",F,[t("div",J,p(a.value),1),t("span",Q,[r(u,{class:"mr-2 hover:text-blue-400",name:"volume-up-line",onClick:e[1]||(e[1]=o=>C())}),r(u,{class:"mr-2 hover:text-blue-400",name:"clipboard-line",onClick:e[2]||(e[2]=v(o=>b(),["stop"]))}),r(u,{class:"hover:text-blue-400",name:"add-line",onClick:e[3]||(e[3]=v(o=>k(),["stop"]))})]),t("audio",{id:"responseAudioPlayer",src:h.value},null,8,Y)])):m("",!0)]),t("div",Z,[B(t("textarea",{ref:"questionInput",rows:3,class:"w-full border rounded-lg shadow-sm py-2 lg:py-4 pl-4 pr-20 text-slate-600 placeholder-slate-300 font-normal text-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent","onUpdate:modelValue":e[4]||(e[4]=o=>l.value=o),type:"text",placeholder:"开始对话",onKeyup:S(v(_,["stop"]),["enter"])},null,40,G),[[E,l.value]]),t("button",{class:"absolute top-2 lg:top-4 right-4 lg:right-8 w-16 text-blue-300 hover:text-blue-600",onClick:_},[O,r(u,{name:"send-plane-fill"})])])]),g.value?(i(),$(N,{key:0})):m("",!0)],64))}};export{me as default};
