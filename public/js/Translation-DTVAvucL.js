import{ae as s,ak as B,ay as d,az as p,aC as t,aA as n,aP as m,aU as g,aS as v,aI as E,aJ as S,aR as D,aM as U,aB as $}from"./vendor-BLq22pPX.js";import{R as u}from"./RemixIcon-BDA1nEXk.js";import{a as z}from"./ai-gi_gpRwF.js";import{g as H,c as I}from"./word-BkP-zV36.js";import{m as b}from"./message-AZuur2LZ.js";import{H as M}from"./Header-C6RPu72y.js";import{L as N}from"./Loading-BaoDrf3C.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./userInfo-CtL9gwPY.js";import"./user-Bu3yqCiw.js";import"./index-DpKJEyGL.js";const P={class:"flex flex-col h-screen w-full justify-center items-center text-slate-700"},R={class:"flex-1 w-full p-2 lg:p-4 overflow-y-auto"},V={key:0,class:"rounded-lg shadow-lg p-4 lg:p-8 mb-4 lg:mb-8"},q=t("div",{class:"font-bold text-normal lg:text-lg py-2"},[t("span",{class:"bg-blue-600 text-slate-50 rounded-xl px-2 py-1"},"每日一句")],-1),K={class:"text-normal lg:text-lg p-2"},L={class:"text-normal lg:text-lg p-2"},W={key:1,class:"rounded shadow-lg p-4 lg:p-8 mb-4 lg:mb-8"},j={class:"font-bold text-lg lg:text-xl text-blue-700 py-1"},F={class:"text-lg text-slate-300"},J={key:2,class:"rounded shadow-lg p-4 lg:p-8 mb-4 lg:mb-8"},Q={class:"font-bold text-lg lg:text-xl text-blue-700"},Y={class:"text-lg text-slate-300"},Z=["src"],G={class:"relative h-24 lg:h-28 w-full text-lg px-2 lg:px-4 mb-4 lg:mb-8"},O=["onKeyup"],X=t("span",{class:"mr-1"},"发送",-1),ve={__name:"Translation",setup(ee){const k=l=>{var e=document.createElement("textarea");e.value=l,document.body.appendChild(e),e.focus(),e.select();try{var o=document.execCommand("copy"),h=o?"成功拷贝!":"拷贝失败!";console.log(h)}catch(f){console.error("拷贝到剪贴板失败:",f)}document.body.removeChild(e)},r=s(""),i=s("");s("");const y=s(""),a=s(""),x=s(!1);s("");const c=s(),_=()=>{a.value&&(navigator.clipboard||(navigator.clipboard={writeText:k}),navigator.clipboard.writeText(a.value),b.success("复制成功！"))},C=()=>{I({code:a.value,english:a.value,chinese:i.value,newWord:!0}).catch(l=>{b.error(l)})},w=()=>{r.value||b.warning("请输入要翻译的文本！");let l=r.value.replace(/[\r\n]/g,"");const o=new RegExp(/^[A-Za-z\s]*$/).test(l);x.value=!0,z({query:l,from:o?"en":"zh-CHS",to:o?"zh-CHS":"en"}).then(h=>{let{translation:f,speakUrl:te,tSpeakUrl:A,dict:le,tDict:oe}=h||{};r.value="",i.value=l,a.value=f,y.value=A,x.value=!1})},T=l=>{let e=null;e=document.getElementById("responseAudioPlayer"),e.paused?e.play():e.pause()};return B(()=>{H().then(l=>{c.value=l})}),(l,e)=>(d(),p($,null,[t("div",P,[n(M),t("div",R,[c.value?(d(),p("div",V,[q,t("div",K,m(c.value.chinese||""),1),t("div",L,m(c.value.english||""),1)])):g("",!0),i.value?(d(),p("div",W,[t("div",j,m(i.value),1),t("span",F,[n(u,{class:"hover:text-blue-400",name:"clipboard-line",onClick:e[0]||(e[0]=v(o=>_(i.value),["stop"]))})])])):g("",!0),a.value?(d(),p("div",J,[t("div",Q,m(a.value),1),t("span",Y,[n(u,{class:"mr-2 hover:text-blue-400",name:"volume-up-line",onClick:e[1]||(e[1]=o=>T())}),n(u,{class:"mr-2 hover:text-blue-400",name:"clipboard-line",onClick:e[2]||(e[2]=v(o=>_(),["stop"]))}),n(u,{class:"hover:text-blue-400",name:"add-line",onClick:e[3]||(e[3]=v(o=>C(),["stop"]))})]),t("audio",{id:"responseAudioPlayer",src:y.value},null,8,Z)])):g("",!0)]),t("div",G,[E(t("textarea",{ref:"questionInput",rows:3,class:"w-full border rounded-lg shadow-sm py-2 lg:py-4 pl-4 pr-20 text-slate-600 placeholder-slate-300 font-normal text-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent","onUpdate:modelValue":e[4]||(e[4]=o=>r.value=o),type:"text",placeholder:"开始对话",onKeyup:D(v(w,["stop"]),["enter"])},null,40,O),[[S,r.value]]),t("button",{class:"absolute top-2 lg:top-4 right-4 lg:right-8 w-16 text-blue-300 hover:text-blue-600",onClick:w},[X,n(u,{name:"send-plane-fill"})])])]),x.value?(d(),U(N,{key:0})):g("",!0)],64))}};export{ve as default};
